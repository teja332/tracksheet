{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Tejab/Desktop/final_year_project/TRACKSHEET/UI/components/ui/button.tsx"],"sourcesContent":["import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default: 'bg-primary text-primary-foreground hover:bg-primary/90',\n        destructive:\n          'bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\n        outline:\n          'border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50',\n        secondary:\n          'bg-secondary text-secondary-foreground hover:bg-secondary/80',\n        ghost:\n          'hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50',\n        link: 'text-primary underline-offset-4 hover:underline',\n      },\n      size: {\n        default: 'h-9 px-4 py-2 has-[>svg]:px-3',\n        sm: 'h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5',\n        lg: 'h-10 rounded-md px-6 has-[>svg]:px-4',\n        icon: 'size-9',\n        'icon-sm': 'size-8',\n        'icon-lg': 'size-10',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n      size: 'default',\n    },\n  },\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'button'> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : 'button'\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,0KAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,2KAAI,GAAG;IAE9B,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf;KAnBS","debugId":null}},
    {"offset": {"line": 69, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Tejab/Desktop/final_year_project/TRACKSHEET/UI/components/ui/TopBar.tsx"],"sourcesContent":["\"use client\";\r\nimport React, { useState, useRef, useEffect } from \"react\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport Image from \"next/image\";\r\nimport NotificationCenter from \"@/components/NotificationCenter\";\r\n\r\nexport default function TopBar({\r\n  onSearch,\r\n  userName = \"Student\",\r\n  userEmail = \"student@tracksheet.com\",\r\n  onLogout,\r\n  onProfileClick,\r\n  onSettingsClick,\r\n  onDashboardClick,\r\n}: {\r\n  onSearch?: (q: string) => void;\r\n  userName?: string;\r\n  userEmail?: string;\r\n  onLogout?: () => void;\r\n  onProfileClick?: () => void;\r\n  onSettingsClick?: () => void;\r\n  onDashboardClick?: () => void;\r\n}) {\r\n  const [q, setQ] = useState(\"\");\r\n  const [open, setOpen] = useState(false);\r\n  const menuRef = useRef<HTMLDivElement | null>(null);\r\n  const avatarRef = useRef<HTMLButtonElement | null>(null);\r\n\r\n  useEffect(() => {\r\n    function onDoc(e: MouseEvent) {\r\n      if (!menuRef.current) return;\r\n      if (\r\n        menuRef.current.contains(e.target as Node) ||\r\n        (avatarRef.current && avatarRef.current.contains(e.target as Node))\r\n      )\r\n        return;\r\n      setOpen(false);\r\n    }\r\n    document.addEventListener(\"mousedown\", onDoc);\r\n    return () => document.removeEventListener(\"mousedown\", onDoc);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    function onKey(e: KeyboardEvent) {\r\n      if (e.key === \"Escape\") setOpen(false);\r\n    }\r\n    document.addEventListener(\"keydown\", onKey);\r\n    return () => document.removeEventListener(\"keydown\", onKey);\r\n  }, []);\r\n\r\n  const submit = (ev?: React.FormEvent) => {\r\n    ev?.preventDefault();\r\n    if (onSearch) onSearch(q.trim());\r\n  };\r\n\r\n  const menuVariants = {\r\n    hidden: { opacity: 0, y: -6, scale: 0.98 },\r\n    show: { opacity: 1, y: 0, scale: 1 },\r\n  };\r\n\r\n  return (\r\n    <header\r\n      className=\"sticky top-0 z-50 backdrop-blur-md bg-white/75 border-b border-slate-200/50\"\r\n      role=\"banner\"\r\n      aria-label=\"Top navigation\"\r\n    >\r\n      <div className=\"flex gap-3 items-center justify-between px-4 md:px-6 py-3 max-w-[1400px] mx-auto\">\r\n        <div className=\"font-bold text-lg md:text-xl gradient-text tracking-wide\">\r\n          TRACKSHEET\r\n        </div>\r\n\r\n        <form\r\n          className=\"flex items-center gap-2 flex-1 max-w-xl mx-4\"\r\n          role=\"search\"\r\n          onSubmit={submit}\r\n        >\r\n          <label htmlFor=\"top-search\" className=\"sr-only\">\r\n            Search\r\n          </label>\r\n          <input\r\n            id=\"top-search\"\r\n            name=\"q\"\r\n            placeholder=\"Search assignments, students...\"\r\n            className=\"flex-1 min-w-0 px-3 py-2 rounded-xl border border-slate-200 bg-white/80 text-slate-900 text-sm outline-none focus:border-sky-300 focus:ring-2 focus:ring-sky-200 transition-all\"\r\n            value={q}\r\n            onChange={(e) => setQ(e.target.value)}\r\n            onKeyDown={(e) => {\r\n              if (e.key === \"Enter\") submit();\r\n            }}\r\n            aria-label=\"Search\"\r\n            autoComplete=\"off\"\r\n          />\r\n          <button\r\n            type=\"submit\"\r\n            aria-label=\"Search\"\r\n            className=\"p-2 hover:bg-slate-100 rounded-lg transition-colors\"\r\n          >\r\n            <svg\r\n              className=\"w-5 h-5 text-slate-600\"\r\n              fill=\"none\"\r\n              stroke=\"currentColor\"\r\n              viewBox=\"0 0 24 24\"\r\n            >\r\n              <path\r\n                strokeLinecap=\"round\"\r\n                strokeLinejoin=\"round\"\r\n                strokeWidth={2}\r\n                d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\"\r\n              />\r\n            </svg>\r\n          </button>\r\n        </form>\r\n\r\n        <div className=\"flex gap-2 items-center\">\r\n          <button\r\n            className=\"p-2 hover:bg-slate-100 rounded-lg transition-colors relative\"\r\n            title=\"Notifications\"\r\n            aria-label=\"Notifications\"\r\n          >\r\n            <svg\r\n              className=\"w-5 h-5 text-slate-600\"\r\n              fill=\"none\"\r\n              stroke=\"currentColor\"\r\n              viewBox=\"0 0 24 24\"\r\n            >\r\n              <path\r\n                strokeLinecap=\"round\"\r\n                strokeLinejoin=\"round\"\r\n                strokeWidth={2}\r\n                d=\"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9\"\r\n              />\r\n            </svg>\r\n            <span className=\"absolute top-1 right-1 w-2 h-2 bg-rose-500 rounded-full\"></span>\r\n          </button>\r\n\r\n          <div className=\"relative\">\r\n            <button\r\n              ref={avatarRef}\r\n              className=\"flex items-center gap-2 p-1 pr-3 rounded-xl hover:bg-slate-100 transition-all\"\r\n              aria-haspopup=\"true\"\r\n              aria-expanded={open}\r\n              aria-controls=\"avatar-menu\"\r\n              onClick={() => setOpen((s) => !s)}\r\n            >\r\n              <div className=\"w-9 h-9 rounded-xl bg-gradient-to-br from-sky-400 to-indigo-500 flex items-center justify-center text-white font-semibold text-sm\">\r\n                {userName.charAt(0).toUpperCase()}\r\n              </div>\r\n              <svg\r\n                className={`w-4 h-4 text-slate-600 transition-transform ${\r\n                  open ? \"rotate-180\" : \"\"\r\n                }`}\r\n                fill=\"none\"\r\n                stroke=\"currentColor\"\r\n                viewBox=\"0 0 24 24\"\r\n              >\r\n                <path\r\n                  strokeLinecap=\"round\"\r\n                  strokeLinejoin=\"round\"\r\n                  strokeWidth={2}\r\n                  d=\"M19 9l-7 7-7-7\"\r\n                />\r\n              </svg>\r\n            </button>\r\n\r\n            <AnimatePresence>\r\n              {open && (\r\n                <motion.div\r\n                  id=\"avatar-menu\"\r\n                  ref={menuRef}\r\n                  className=\"absolute right-0 top-full mt-2 min-w-[220px] glass-sm border border-slate-200/80 rounded-xl p-2 shadow-lg\"\r\n                  initial=\"hidden\"\r\n                  animate=\"show\"\r\n                  exit=\"hidden\"\r\n                  variants={menuVariants}\r\n                  transition={{ duration: 0.22 }}\r\n                  role=\"menu\"\r\n                  aria-label=\"Profile menu\"\r\n                >\r\n                  <div className=\"px-3 py-2 border-b border-slate-200/80 mb-2\">\r\n                    <p className=\"font-semibold text-slate-900 text-sm\">\r\n                      {userName}\r\n                    </p>\r\n                    <p className=\"text-xs text-slate-500\">{userEmail}</p>\r\n                  </div>\r\n\r\n                  <div className=\"border-t border-slate-200/80 mt-2 pt-2\">\r\n                    <button\r\n                      role=\"menuitem\"\r\n                      onClick={() => {\r\n                        setOpen(false);\r\n                        onLogout?.();\r\n                      }}\r\n                      className=\"w-full text-left px-3 py-2 rounded-lg hover:bg-rose-50 text-sm text-rose-600 font-medium transition-colors\"\r\n                    >\r\n                      ðŸšª Sign out\r\n                    </button>\r\n                  </div>\r\n                </motion.div>\r\n              )}\r\n            </AnimatePresence>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 401, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Tejab/Desktop/final_year_project/TRACKSHEET/UI/components/ui/card.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Card({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        'bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        '@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn('leading-none font-semibold', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn('text-muted-foreground text-sm', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        'col-start-2 row-span-2 row-start-1 self-start justify-self-end',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn('px-6', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn('flex items-center px-6 [.border-t]:pt-6', className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;KAXS;AAaT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,4JACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf;MARS","debugId":null}},
    {"offset": {"line": 521, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Tejab/Desktop/final_year_project/TRACKSHEET/UI/components/ui/input.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Input({ className, type, ...props }: React.ComponentProps<'input'>) {\n  return (\n    <input\n      type={type}\n      data-slot=\"input\"\n      className={cn(\n        'file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',\n        'focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]',\n        'aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Input }\n"],"names":[],"mappings":";;;;;AAEA;;;AAEA,SAAS,MAAM,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAsC;IACzE,qBACE,6LAAC;QACC,MAAM;QACN,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,8bACA,iFACA,0GACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS","debugId":null}},
    {"offset": {"line": 552, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Tejab/Desktop/final_year_project/TRACKSHEET/UI/components/ui/use-toast.ts"],"sourcesContent":["'use client'\n\n// Inspired by react-hot-toast library\nimport * as React from 'react'\n\nimport type { ToastActionElement, ToastProps } from '@/components/ui/toast'\n\nconst TOAST_LIMIT = 1\nconst TOAST_REMOVE_DELAY = 1000000\n\ntype ToasterToast = ToastProps & {\n  id: string\n  title?: React.ReactNode\n  description?: React.ReactNode\n  action?: ToastActionElement\n}\n\nconst actionTypes = {\n  ADD_TOAST: 'ADD_TOAST',\n  UPDATE_TOAST: 'UPDATE_TOAST',\n  DISMISS_TOAST: 'DISMISS_TOAST',\n  REMOVE_TOAST: 'REMOVE_TOAST',\n} as const\n\nlet count = 0\n\nfunction genId() {\n  count = (count + 1) % Number.MAX_SAFE_INTEGER\n  return count.toString()\n}\n\ntype ActionType = typeof actionTypes\n\ntype Action =\n  | {\n      type: ActionType['ADD_TOAST']\n      toast: ToasterToast\n    }\n  | {\n      type: ActionType['UPDATE_TOAST']\n      toast: Partial<ToasterToast>\n    }\n  | {\n      type: ActionType['DISMISS_TOAST']\n      toastId?: ToasterToast['id']\n    }\n  | {\n      type: ActionType['REMOVE_TOAST']\n      toastId?: ToasterToast['id']\n    }\n\ninterface State {\n  toasts: ToasterToast[]\n}\n\nconst toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>()\n\nconst addToRemoveQueue = (toastId: string) => {\n  if (toastTimeouts.has(toastId)) {\n    return\n  }\n\n  const timeout = setTimeout(() => {\n    toastTimeouts.delete(toastId)\n    dispatch({\n      type: 'REMOVE_TOAST',\n      toastId: toastId,\n    })\n  }, TOAST_REMOVE_DELAY)\n\n  toastTimeouts.set(toastId, timeout)\n}\n\nexport const reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case 'ADD_TOAST':\n      return {\n        ...state,\n        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\n      }\n\n    case 'UPDATE_TOAST':\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === action.toast.id ? { ...t, ...action.toast } : t,\n        ),\n      }\n\n    case 'DISMISS_TOAST': {\n      const { toastId } = action\n\n      // ! Side effects ! - This could be extracted into a dismissToast() action,\n      // but I'll keep it here for simplicity\n      if (toastId) {\n        addToRemoveQueue(toastId)\n      } else {\n        state.toasts.forEach((toast) => {\n          addToRemoveQueue(toast.id)\n        })\n      }\n\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === toastId || toastId === undefined\n            ? {\n                ...t,\n                open: false,\n              }\n            : t,\n        ),\n      }\n    }\n    case 'REMOVE_TOAST':\n      if (action.toastId === undefined) {\n        return {\n          ...state,\n          toasts: [],\n        }\n      }\n      return {\n        ...state,\n        toasts: state.toasts.filter((t) => t.id !== action.toastId),\n      }\n  }\n}\n\nconst listeners: Array<(state: State) => void> = []\n\nlet memoryState: State = { toasts: [] }\n\nfunction dispatch(action: Action) {\n  memoryState = reducer(memoryState, action)\n  listeners.forEach((listener) => {\n    listener(memoryState)\n  })\n}\n\ntype Toast = Omit<ToasterToast, 'id'>\n\nfunction toast({ ...props }: Toast) {\n  const id = genId()\n\n  const update = (props: ToasterToast) =>\n    dispatch({\n      type: 'UPDATE_TOAST',\n      toast: { ...props, id },\n    })\n  const dismiss = () => dispatch({ type: 'DISMISS_TOAST', toastId: id })\n\n  dispatch({\n    type: 'ADD_TOAST',\n    toast: {\n      ...props,\n      id,\n      open: true,\n      onOpenChange: (open) => {\n        if (!open) dismiss()\n      },\n    },\n  })\n\n  return {\n    id: id,\n    dismiss,\n    update,\n  }\n}\n\nfunction useToast() {\n  const [state, setState] = React.useState<State>(memoryState)\n\n  React.useEffect(() => {\n    listeners.push(setState)\n    return () => {\n      const index = listeners.indexOf(setState)\n      if (index > -1) {\n        listeners.splice(index, 1)\n      }\n    }\n  }, [state])\n\n  return {\n    ...state,\n    toast,\n    dismiss: (toastId?: string) => dispatch({ type: 'DISMISS_TOAST', toastId }),\n  }\n}\n\nexport { useToast, toast }\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 719, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Tejab/Desktop/final_year_project/TRACKSHEET/UI/components/add-student-modal.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState } from \"react\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Input } from \"@/components/ui/input\"\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\r\nimport { X } from \"lucide-react\"\r\nimport { useToast } from \"@/components/ui/use-toast\"\r\n\r\ninterface AddStudentModalProps {\r\n  onClose: () => void\r\n  onSuccess: () => void\r\n}\r\n\r\nexport default function AddStudentModal({ onClose, onSuccess }: AddStudentModalProps) {\r\n  const { toast } = useToast()\r\n  const [isSubmitting, setIsSubmitting] = useState(false)\r\n  const [formData, setFormData] = useState({\r\n    // Profile fields\r\n    fullName: \"\",\r\n    rollNumber: \"\",\r\n    email: \"\",\r\n    phone: \"\",\r\n    dob: \"\",\r\n    address: \"\",\r\n    year: \"\",\r\n    branch: \"\",\r\n    section: \"\",\r\n    parentName: \"\",\r\n    parentPhone: \"\",\r\n    leetcode: \"\",\r\n    codeforces: \"\",\r\n    hackerrank: \"\",\r\n    codechef: \"\",\r\n  })\r\n\r\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const { name, value } = e.target\r\n    setFormData((prev) => ({ ...prev, [name]: value }))\r\n  }\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault()\r\n\r\n    if (!formData.fullName || !formData.rollNumber || !formData.email) {\r\n      toast({\r\n        description: \"Please fill in required fields (Name, Roll Number, Email)\",\r\n        variant: \"destructive\",\r\n      })\r\n      return\r\n    }\r\n\r\n    setIsSubmitting(true)\r\n    try {\r\n      const response = await fetch(\"/api/student/add\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        credentials: \"include\",\r\n        body: JSON.stringify(formData),\r\n      })\r\n\r\n      if (!response.ok) {\r\n        const error = await response.json().catch(() => ({}))\r\n        throw new Error(error.error || \"Failed to add student\")\r\n      }\r\n\r\n      toast({\r\n        description: \"Student added successfully\",\r\n        variant: \"default\",\r\n      })\r\n      onSuccess()\r\n    } catch (err) {\r\n      toast({\r\n        description: err instanceof Error ? err.message : \"Failed to add student\",\r\n        variant: \"destructive\",\r\n      })\r\n    } finally {\r\n      setIsSubmitting(false)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div\r\n      onClick={onClose}\r\n      style={{\r\n        position: \"fixed\",\r\n        top: 0,\r\n        left: 0,\r\n        right: 0,\r\n        bottom: 0,\r\n        backgroundColor: \"rgba(15, 23, 42, 0.3)\",\r\n        backdropFilter: \"blur(6px)\",\r\n        zIndex: 9999,\r\n        overflow: \"auto\",\r\n      }}\r\n    >\r\n      <div className=\"flex items-center justify-center min-h-screen p-4\">\r\n        <Card\r\n          onClick={(e) => e.stopPropagation()}\r\n          style={{\r\n            position: \"relative\",\r\n            width: \"100%\",\r\n            maxWidth: \"600px\",\r\n            borderRadius: \"var(--radius-xl)\",\r\n            backgroundColor: \"var(--card)\",\r\n            borderColor: \"var(--border)\",\r\n            boxShadow: \"0 25px 50px -12px rgba(0, 0, 0, 0.25)\",\r\n          }}\r\n          className=\"glass-lg\"\r\n        >\r\n          <CardHeader className=\"flex flex-row items-center justify-between border-b border-slate-200/80 pb-4\">\r\n            <CardTitle style={{ color: \"var(--foreground)\", fontSize: \"18px\", fontWeight: 600 }}>\r\n              Add Student\r\n            </CardTitle>\r\n            <Button\r\n              variant=\"ghost\"\r\n              size=\"icon\"\r\n              onClick={onClose}\r\n              style={{\r\n                borderRadius: \"50%\",\r\n                color: \"var(--muted-foreground)\",\r\n                padding: \"8px\",\r\n              }}\r\n            >\r\n              <X size={20} />\r\n            </Button>\r\n          </CardHeader>\r\n\r\n          <CardContent className=\"pt-6\">\r\n            <div className=\"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg\">\r\n              <p className=\"text-sm text-blue-700\">\r\n                <span className=\"font-semibold\">Login Credentials:</span> A user account will be created automatically with the email as username and password.\r\n              </p>\r\n            </div>\r\n            <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n              {/* Profile Information */}\r\n              <div>\r\n                <h3 className=\"text-sm font-semibold text-slate-900 mb-4\">Profile Information</h3>\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6\">\r\n                  <div>\r\n                    <label className=\"text-sm font-medium text-slate-700 block mb-1\">\r\n                      Full Name *\r\n                    </label>\r\n                    <Input\r\n                      type=\"text\"\r\n                      name=\"fullName\"\r\n                      placeholder=\"John Doe\"\r\n                      value={formData.fullName}\r\n                      onChange={handleInputChange}\r\n                      required\r\n                      className=\"bg-slate-50 border-slate-200\"\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"text-sm font-medium text-slate-700 block mb-1\">\r\n                      Roll Number *\r\n                    </label>\r\n                    <Input\r\n                      type=\"text\"\r\n                      name=\"rollNumber\"\r\n                      placeholder=\"CSE24001\"\r\n                      value={formData.rollNumber}\r\n                      onChange={handleInputChange}\r\n                      required\r\n                      className=\"bg-slate-50 border-slate-200\"\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"text-sm font-medium text-slate-700 block mb-1\">\r\n                      Email *\r\n                    </label>\r\n                    <Input\r\n                      type=\"email\"\r\n                      name=\"email\"\r\n                      placeholder=\"john@example.com\"\r\n                      value={formData.email}\r\n                      onChange={handleInputChange}\r\n                      required\r\n                      className=\"bg-slate-50 border-slate-200\"\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"text-sm font-medium text-slate-700 block mb-1\">\r\n                      Phone\r\n                    </label>\r\n                    <Input\r\n                      type=\"tel\"\r\n                      name=\"phone\"\r\n                      placeholder=\"9876543210\"\r\n                      value={formData.phone}\r\n                      onChange={handleInputChange}\r\n                      className=\"bg-slate-50 border-slate-200\"\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"text-sm font-medium text-slate-700 block mb-1\">\r\n                      Date of Birth\r\n                    </label>\r\n                    <Input\r\n                      type=\"date\"\r\n                      name=\"dob\"\r\n                      value={formData.dob}\r\n                      onChange={handleInputChange}\r\n                      className=\"bg-slate-50 border-slate-200\"\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"text-sm font-medium text-slate-700 block mb-1\">\r\n                      Address\r\n                    </label>\r\n                    <Input\r\n                      type=\"text\"\r\n                      name=\"address\"\r\n                      placeholder=\"123 Main St\"\r\n                      value={formData.address}\r\n                      onChange={handleInputChange}\r\n                      className=\"bg-slate-50 border-slate-200\"\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"text-sm font-medium text-slate-700 block mb-1\">\r\n                      Year\r\n                    </label>\r\n                    <Input\r\n                      type=\"text\"\r\n                      name=\"year\"\r\n                      placeholder=\"1\"\r\n                      value={formData.year}\r\n                      onChange={handleInputChange}\r\n                      className=\"bg-slate-50 border-slate-200\"\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"text-sm font-medium text-slate-700 block mb-1\">\r\n                      Branch\r\n                    </label>\r\n                    <Input\r\n                      type=\"text\"\r\n                      name=\"branch\"\r\n                      placeholder=\"CSE\"\r\n                      value={formData.branch}\r\n                      onChange={handleInputChange}\r\n                      className=\"bg-slate-50 border-slate-200\"\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"text-sm font-medium text-slate-700 block mb-1\">\r\n                      Section\r\n                    </label>\r\n                    <Input\r\n                      type=\"text\"\r\n                      name=\"section\"\r\n                      placeholder=\"A\"\r\n                      value={formData.section}\r\n                      onChange={handleInputChange}\r\n                      className=\"bg-slate-50 border-slate-200\"\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"text-sm font-medium text-slate-700 block mb-1\">\r\n                      Parent Name\r\n                    </label>\r\n                    <Input\r\n                      type=\"text\"\r\n                      name=\"parentName\"\r\n                      placeholder=\"Jane Doe\"\r\n                      value={formData.parentName}\r\n                      onChange={handleInputChange}\r\n                      className=\"bg-slate-50 border-slate-200\"\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"text-sm font-medium text-slate-700 block mb-1\">\r\n                      Parent Phone\r\n                    </label>\r\n                    <Input\r\n                      type=\"tel\"\r\n                      name=\"parentPhone\"\r\n                      placeholder=\"9876543211\"\r\n                      value={formData.parentPhone}\r\n                      onChange={handleInputChange}\r\n                      className=\"bg-slate-50 border-slate-200\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Online Platforms */}\r\n              <div>\r\n                <h3 className=\"text-sm font-semibold text-slate-900 mb-4\">Online Platforms</h3>\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6\">\r\n                  <div>\r\n                    <label className=\"text-sm font-medium text-slate-700 block mb-1\">\r\n                      LeetCode Username\r\n                    </label>\r\n                    <Input\r\n                      type=\"text\"\r\n                      name=\"leetcode\"\r\n                      placeholder=\"username_here\"\r\n                      value={formData.leetcode}\r\n                      onChange={handleInputChange}\r\n                      className=\"bg-slate-50 border-slate-200\"\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"text-sm font-medium text-slate-700 block mb-1\">\r\n                      CodeForces Username\r\n                    </label>\r\n                    <Input\r\n                      type=\"text\"\r\n                      name=\"codeforces\"\r\n                      placeholder=\"username_here\"\r\n                      value={formData.codeforces}\r\n                      onChange={handleInputChange}\r\n                      className=\"bg-slate-50 border-slate-200\"\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"text-sm font-medium text-slate-700 block mb-1\">\r\n                      HackerRank Username\r\n                    </label>\r\n                    <Input\r\n                      type=\"text\"\r\n                      name=\"hackerrank\"\r\n                      placeholder=\"username_here\"\r\n                      value={formData.hackerrank}\r\n                      onChange={handleInputChange}\r\n                      className=\"bg-slate-50 border-slate-200\"\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"text-sm font-medium text-slate-700 block mb-1\">\r\n                      CodeChef Username\r\n                    </label>\r\n                    <Input\r\n                      type=\"text\"\r\n                      name=\"codechef\"\r\n                      placeholder=\"username_here\"\r\n                      value={formData.codechef}\r\n                      onChange={handleInputChange}\r\n                      className=\"bg-slate-50 border-slate-200\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Action Buttons */}\r\n              <div className=\"flex gap-3 pt-6 border-t border-slate-200/80\">\r\n                <Button\r\n                  type=\"button\"\r\n                  variant=\"outline\"\r\n                  onClick={onClose}\r\n                  disabled={isSubmitting}\r\n                  className=\"flex-1 text-slate-700 border-slate-300 hover:bg-slate-100\"\r\n                >\r\n                  Cancel\r\n                </Button>\r\n                <Button\r\n                  type=\"submit\"\r\n                  disabled={isSubmitting}\r\n                  className=\"flex-1 bg-sky-600 hover:bg-sky-700 text-white\"\r\n                >\r\n                  {isSubmitting ? \"Adding...\" : \"Add Student\"}\r\n                </Button>\r\n              </div>\r\n            </form>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1454, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Tejab/Desktop/final_year_project/TRACKSHEET/UI/components/staff-student-selector.tsx"],"sourcesContent":["\"use client\"\n\nimport { useEffect, useState, useRef } from \"react\"\nimport { Button } from \"@/components/ui/button\"\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Input } from \"@/components/ui/input\"\nimport { Upload, Plus } from \"lucide-react\"\nimport AddStudentModal from \"./add-student-modal\"\nimport { useToast } from \"@/components/ui/use-toast\"\n\ninterface StaffStudentSelectorProps {\n  onSelectStudent: (studentId: string) => void\n  searchQuery?: string\n}\n\nexport default function StaffStudentSelector({ onSelectStudent, searchQuery = \"\" }: StaffStudentSelectorProps) {\n  const { toast } = useToast()\n  const fileInputRef = useRef<HTMLInputElement>(null)\n  const [year, setYear] = useState(\"\")\n  const [branch, setBranch] = useState(\"\")\n  const [section, setSection] = useState(\"\")\n  const [showAddModal, setShowAddModal] = useState(false)\n  const [isUploadingExcel, setIsUploadingExcel] = useState(false)\n  const [students, setStudents] = useState<\n    Array<{\n      rollNumber: string\n      fullName: string\n      email: string\n      year: string\n      section: string\n      branch: string\n    }>\n  >([])\n  const [isLoading, setIsLoading] = useState(true)\n  const [loadError, setLoadError] = useState<string | null>(null)\n\n  useEffect(() => {\n    let isMounted = true\n    const load = async () => {\n      setIsLoading(true)\n      setLoadError(null)\n      try {\n        const response = await fetch(\"/api/staff/assigned\", { credentials: \"include\" })\n        if (!response.ok) {\n          const data = await response.json().catch(() => ({}))\n          throw new Error(data.error || \"Failed to load students\")\n        }\n        const data = await response.json()\n        if (isMounted) {\n          setStudents(data.students || [])\n        }\n      } catch (err) {\n        if (isMounted) {\n          setLoadError(err instanceof Error ? err.message : \"Failed to load students\")\n        }\n      } finally {\n        if (isMounted) {\n          setIsLoading(false)\n        }\n      }\n    }\n\n    load()\n    return () => {\n      isMounted = false\n    }\n  }, [])\n\n  const searchLower = searchQuery.toLowerCase()\n  const filteredStudents = students.filter(\n    (student) =>\n      (!year || student.year === year) &&\n      (!branch || student.branch.toLowerCase() === branch.toLowerCase()) &&\n      (!section || student.section.toLowerCase() === section.toLowerCase()) &&\n      (!searchQuery || \n        student.fullName.toLowerCase().includes(searchLower) ||\n        student.rollNumber.toLowerCase().includes(searchLower) ||\n        student.email.toLowerCase().includes(searchLower)\n      ),\n  )\n\n  const handleAddStudentSuccess = () => {\n    // Reload students list after adding new student\n    setIsLoading(true)\n    fetch(\"/api/staff/assigned\", { credentials: \"include\" })\n      .then((res) => res.json())\n      .then((data) => setStudents(data.students || []))\n      .catch(() => setLoadError(\"Failed to reload students\"))\n      .finally(() => setIsLoading(false))\n  }\n\n  const handleExcelFileSelect = async (event: React.ChangeEvent<HTMLInputElement>) => {\n    const file = event.target.files?.[0]\n    if (!file) return\n\n    // Validate file type\n    const fileName = file.name.toLowerCase()\n    const validExtensions = [\".xlsx\", \".xls\", \".csv\"]\n    const isValidFile = validExtensions.some((ext) => fileName.endsWith(ext))\n\n    if (!isValidFile) {\n      toast({\n        title: \"Invalid File Type\",\n        description: \"Please upload only Excel files (.xlsx, .xls, or .csv)\",\n        variant: \"destructive\",\n      })\n      if (fileInputRef.current) {\n        fileInputRef.current.value = \"\"\n      }\n      return\n    }\n\n    setIsUploadingExcel(true)\n\n    try {\n      const formData = new FormData()\n      formData.append(\"file\", file)\n\n      const response = await fetch(\"/api/student/upload-excel\", {\n        method: \"POST\",\n        body: formData,\n        credentials: \"include\",\n      })\n\n      const result = await response.json()\n\n      if (!response.ok) {\n        toast({\n          title: \"Upload Failed\",\n          description: result.error || \"Failed to upload Excel file\",\n          variant: \"destructive\",\n        })\n        return\n      }\n\n      toast({\n        title: \"Upload Successful\",\n        description: `Successfully imported ${result.successCount} student(s)${result.errorCount > 0 ? ` with ${result.errorCount} error(s)` : \"\"}`,\n      })\n\n      // Reload students list\n      handleAddStudentSuccess()\n\n      // Clear file input\n      if (fileInputRef.current) {\n        fileInputRef.current.value = \"\"\n      }\n    } catch (error) {\n      toast({\n        title: \"Error\",\n        description: error instanceof Error ? error.message : \"Failed to upload Excel file\",\n        variant: \"destructive\",\n      })\n    } finally {\n      setIsUploadingExcel(false)\n    }\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n        {/* Filter Students Container */}\n        <div className=\"lg:col-span-2\">\n          <Card className=\"glass-sm border border-slate-200/80 h-full\">\n            <CardHeader>\n              <CardTitle className=\"text-slate-900\">Filter Students</CardTitle>\n            </CardHeader>\n            <CardContent className=\"space-y-4\">\n              <div className=\"space-y-4\">\n                <div>\n                  <label className=\"text-sm font-medium text-slate-700 block mb-2\">Year</label>\n                  <Input\n                    placeholder=\"e.g., 1, 2, 3, 4\"\n                    value={year}\n                    onChange={(e) => setYear(e.target.value)}\n                    className=\"bg-slate-50 border-slate-200 text-slate-900 placeholder:text-slate-500\"\n                  />\n                </div>\n                <div>\n                  <label className=\"text-sm font-medium text-slate-700 block mb-2\">Branch</label>\n                  <Input\n                    placeholder=\"e.g., CSE, ECE\"\n                    value={branch}\n                    onChange={(e) => setBranch(e.target.value)}\n                    className=\"bg-slate-50 border-slate-200 text-slate-900 placeholder:text-slate-500\"\n                  />\n                </div>\n                <div>\n                  <label className=\"text-sm font-medium text-slate-700 block mb-2\">Section</label>\n                  <Input\n                    placeholder=\"e.g., A, B, C\"\n                    value={section}\n                    onChange={(e) => setSection(e.target.value)}\n                    className=\"bg-slate-50 border-slate-200 text-slate-900 placeholder:text-slate-500\"\n                  />\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n        </div>\n\n        {/* Add Student Details Container */}\n        <div>\n          <Card className=\"glass-sm border border-slate-200/80 h-full\">\n            <CardHeader>\n              <CardTitle className=\"text-slate-900\">Add Student Details</CardTitle>\n            </CardHeader>\n            <CardContent className=\"flex flex-col gap-3\">\n              <Button\n                onClick={() => setShowAddModal(true)}\n                className=\"w-full bg-sky-600 hover:bg-sky-700 text-white rounded-lg flex items-center justify-center gap-2\"\n              >\n                <Plus size={18} />\n                Add Manually\n              </Button>\n              <Button\n                onClick={() => fileInputRef.current?.click()}\n                disabled={isUploadingExcel}\n                variant=\"outline\"\n                className=\"w-full text-slate-700 border-slate-300 hover:bg-slate-100 rounded-lg flex items-center justify-center gap-2\"\n              >\n                <Upload size={18} />\n                {isUploadingExcel ? \"Uploading...\" : \"Add Excel\"}\n              </Button>\n              <input\n                ref={fileInputRef}\n                type=\"file\"\n                accept=\".xlsx,.xls,.csv\"\n                onChange={handleExcelFileSelect}\n                className=\"hidden\"\n              />\n            </CardContent>\n          </Card>\n        </div>\n      </div>\n\n      <Card className=\"glass-sm border border-slate-200/80\">\n        <CardHeader>\n          <CardTitle className=\"text-slate-900\">Students ({filteredStudents.length})</CardTitle>\n        </CardHeader>\n        <CardContent>\n          {isLoading ? (\n            <div className=\"text-sm text-slate-500\">Loading students...</div>\n          ) : loadError ? (\n            <div className=\"text-sm text-rose-600\">{loadError}</div>\n          ) : (\n            <div className=\"space-y-2\">\n              {filteredStudents.map((student) => (\n                <Button\n                  key={student.rollNumber}\n                  variant=\"outline\"\n                  className=\"w-full justify-start text-left h-auto py-3 bg-slate-50 border-slate-200 hover:bg-slate-100 text-slate-900\"\n                  onClick={() => onSelectStudent(student.rollNumber)}\n                >\n                  <div>\n                    <p className=\"font-semibold text-slate-900\">{student.fullName}</p>\n                    <p className=\"text-sm text-slate-600\">\n                      {student.year}Y | {student.branch} | Section {student.section}\n                    </p>\n                  </div>\n                </Button>\n              ))}\n            </div>\n          )}\n        </CardContent>\n      </Card>\n\n      {showAddModal && (\n        <AddStudentModal\n          onClose={() => setShowAddModal(false)}\n          onSuccess={() => {\n            setShowAddModal(false)\n            handleAddStudentSuccess()\n          }}\n        />\n      )}\n    </div>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1947, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Tejab/Desktop/final_year_project/TRACKSHEET/UI/components/staff-edit-modal.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport {\n  Card,\n  CardContent,\n  CardHeader,\n  CardTitle,\n} from \"@/components/ui/card\";\nimport { X, Trash2 } from \"lucide-react\";\nimport { useToast } from \"@/components/ui/use-toast\";\n\ninterface StaffEditModalProps {\n  section: string;\n  studentData: any;\n  studentId: string;\n  onClose: () => void;\n  onSaveSuccess?: () => void;\n}\n\nexport default function StaffEditModal({\n  section,\n  studentData,\n  studentId,\n  onClose,\n  onSaveSuccess,\n}: StaffEditModalProps) {\n  const [formData, setFormData] = useState(studentData[section] || {});\n  const [isSaving, setIsSaving] = useState(false);\n  const [isDeleting, setIsDeleting] = useState(false);\n  const [showConfirmDelete, setShowConfirmDelete] = useState(false);\n  const { toast } = useToast();\n\n  // Track if data has changed\n  const hasChanges = JSON.stringify(formData) !== JSON.stringify(studentData[section] || {});\n\n  // Disable body scroll when modal is open\n  useEffect(() => {\n    document.body.style.overflow = \"hidden\";\n    return () => {\n      document.body.style.overflow = \"unset\";\n    };\n  }, []);\n\n  const handleSave = async () => {\n    if (!hasChanges) {\n      toast({\n        description: \"No changes to save\",\n        variant: \"default\",\n      });\n      onClose();\n      return;\n    }\n\n    // Show confirmation if changes exist\n    const confirmed = window.confirm(\n      `Are you sure you want to save changes to ${section}?`\n    );\n    if (!confirmed) return;\n\n    setIsSaving(true);\n    try {\n      const response = await fetch(`/api/student/${encodeURIComponent(studentId)}/update`, {\n        method: \"PATCH\",\n        headers: { \"Content-Type\": \"application/json\" },\n        credentials: \"include\",\n        body: JSON.stringify({ section, data: formData }),\n      });\n\n      if (!response.ok) {\n        const error = await response.json().catch(() => ({}));\n        throw new Error(error.error || \"Failed to save changes\");\n      }\n\n      toast({\n        description: `${section} updated successfully`,\n        variant: \"default\",\n      });\n      onSaveSuccess?.();\n      onClose();\n    } catch (err) {\n      toast({\n        description: err instanceof Error ? err.message : \"Failed to save changes\",\n        variant: \"destructive\",\n      });\n    } finally {\n      setIsSaving(false);\n    }\n  };\n\n  const handleDelete = async () => {\n    const confirmed = window.confirm(\n      `Are you sure you want to delete ${section} data? This action cannot be undone.`\n    );\n    if (!confirmed) return;\n\n    setIsDeleting(true);\n    try {\n      const response = await fetch(\n        `/api/student/${encodeURIComponent(studentId)}/${section}`,\n        {\n          method: \"DELETE\",\n          headers: { \"Content-Type\": \"application/json\" },\n          credentials: \"include\",\n        }\n      );\n\n      if (!response.ok) {\n        const error = await response.json().catch(() => ({}));\n        throw new Error(error.error || \"Failed to delete data\");\n      }\n\n      toast({\n        description: `${section} deleted successfully`,\n        variant: \"default\",\n      });\n      onSaveSuccess?.();\n      onClose();\n    } catch (err) {\n      toast({\n        description: err instanceof Error ? err.message : \"Failed to delete data\",\n        variant: \"destructive\",\n      });\n    } finally {\n      setIsDeleting(false);\n      setShowConfirmDelete(false);\n    }\n  };\n\n  const renderFormFields = () => {\n    switch (section) {\n      case \"profile\":\n        return (\n          <div style={{ display: \"flex\", flexDirection: \"column\", gap: \"16px\" }}>\n            <div>\n              <label\n                style={{\n                  fontSize: \"14px\",\n                  fontWeight: 500,\n                  color: \"var(--muted-foreground)\",\n                  display: \"block\",\n                  marginBottom: \"8px\",\n                }}\n              >\n                Date of Birth\n              </label>\n              <Input\n                value={formData.dob || \"\"}\n                onChange={(e) =>\n                  setFormData({ ...formData, dob: e.target.value })\n                }\n                style={{\n                  backgroundColor: \"var(--input)\",\n                  borderColor: \"var(--border)\",\n                  color: \"var(--foreground)\",\n                  borderRadius: \"var(--radius-xl)\",\n                  padding: \"8px 12px\",\n                  fontSize: \"14px\",\n                }}\n              />\n            </div>\n            <div>\n              <label\n                style={{\n                  fontSize: \"14px\",\n                  fontWeight: 500,\n                  color: \"var(--muted-foreground)\",\n                  display: \"block\",\n                  marginBottom: \"8px\",\n                }}\n              >\n                Address\n              </label>\n              <Input\n                value={formData.address || \"\"}\n                onChange={(e) =>\n                  setFormData({ ...formData, address: e.target.value })\n                }\n                style={{\n                  backgroundColor: \"var(--input)\",\n                  borderColor: \"var(--border)\",\n                  color: \"var(--foreground)\",\n                  borderRadius: \"var(--radius-xl)\",\n                  padding: \"8px 12px\",\n                  fontSize: \"14px\",\n                }}\n              />\n            </div>\n            <div>\n              <label\n                style={{\n                  fontSize: \"14px\",\n                  fontWeight: 500,\n                  color: \"var(--muted-foreground)\",\n                  display: \"block\",\n                  marginBottom: \"8px\",\n                }}\n              >\n                Parent Name\n              </label>\n              <Input\n                value={formData.parentName || \"\"}\n                onChange={(e) =>\n                  setFormData({ ...formData, parentName: e.target.value })\n                }\n                style={{\n                  backgroundColor: \"var(--input)\",\n                  borderColor: \"var(--border)\",\n                  color: \"var(--foreground)\",\n                  borderRadius: \"var(--radius-xl)\",\n                  padding: \"8px 12px\",\n                  fontSize: \"14px\",\n                }}\n              />\n            </div>\n            <div>\n              <label\n                style={{\n                  fontSize: \"14px\",\n                  fontWeight: 500,\n                  color: \"var(--muted-foreground)\",\n                  display: \"block\",\n                  marginBottom: \"8px\",\n                }}\n              >\n                Parent Phone\n              </label>\n              <Input\n                value={formData.parentPhone || \"\"}\n                onChange={(e) =>\n                  setFormData({ ...formData, parentPhone: e.target.value })\n                }\n                style={{\n                  backgroundColor: \"var(--input)\",\n                  borderColor: \"var(--border)\",\n                  color: \"var(--foreground)\",\n                  borderRadius: \"var(--radius-xl)\",\n                  padding: \"8px 12px\",\n                  fontSize: \"14px\",\n                }}\n              />\n            </div>\n          </div>\n        );\n      case \"academic\":\n        return (\n          <div style={{ display: \"flex\", flexDirection: \"column\", gap: \"16px\" }}>\n            <div\n              style={{\n                display: \"grid\",\n                gridTemplateColumns: \"1fr 1fr\",\n                gap: \"16px\",\n              }}\n            >\n              <div>\n                <label\n                  style={{\n                    fontSize: \"14px\",\n                    fontWeight: 500,\n                    color: \"var(--muted-foreground)\",\n                    display: \"block\",\n                    marginBottom: \"8px\",\n                  }}\n                >\n                  10th Percentage\n                </label>\n                <Input\n                  type=\"number\"\n                  value={formData.tenth?.percentage ?? \"\"}\n                  onChange={(e) =>\n                    setFormData({\n                      ...formData,\n                      tenth: {\n                        ...formData.tenth,\n                        percentage: parseFloat(e.target.value),\n                      },\n                    })\n                  }\n                  style={{\n                    backgroundColor: \"var(--input)\",\n                    borderColor: \"var(--border)\",\n                    color: \"var(--foreground)\",\n                    borderRadius: \"var(--radius-xl)\",\n                    padding: \"8px 12px\",\n                    fontSize: \"14px\",\n                  }}\n                />\n              </div>\n              <div>\n                <label\n                  style={{\n                    fontSize: \"14px\",\n                    fontWeight: 500,\n                    color: \"var(--muted-foreground)\",\n                    display: \"block\",\n                    marginBottom: \"8px\",\n                  }}\n                >\n                  Degree CGPA\n                </label>\n                <Input\n                  type=\"number\"\n                  value={formData.degree?.cgpa ?? \"\"}\n                  onChange={(e) =>\n                    setFormData({\n                      ...formData,\n                      degree: {\n                        ...formData.degree,\n                        cgpa: parseFloat(e.target.value),\n                      },\n                    })\n                  }\n                  style={{\n                    backgroundColor: \"var(--input)\",\n                    borderColor: \"var(--border)\",\n                    color: \"var(--foreground)\",\n                    borderRadius: \"var(--radius-xl)\",\n                    padding: \"8px 12px\",\n                    fontSize: \"14px\",\n                  }}\n                />\n              </div>\n            </div>\n          </div>\n        );\n      default:\n        return (\n          <div style={{ display: \"flex\", flexDirection: \"column\", gap: \"16px\" }}>\n            {Object.entries(formData).map(([key, value]) => (\n              <div key={key}>\n                <label\n                  style={{\n                    fontSize: \"14px\",\n                    fontWeight: 500,\n                    color: \"var(--muted-foreground)\",\n                    display: \"block\",\n                    marginBottom: \"8px\",\n                    textTransform: \"capitalize\",\n                  }}\n                >\n                  {key}\n                </label>\n                <Input\n                  value={String(value)}\n                  onChange={(e) =>\n                    setFormData({ ...formData, [key]: e.target.value })\n                  }\n                  style={{\n                    backgroundColor: \"var(--input)\",\n                    borderColor: \"var(--border)\",\n                    color: \"var(--foreground)\",\n                    borderRadius: \"var(--radius-xl)\",\n                    padding: \"8px 12px\",\n                    fontSize: \"14px\",\n                  }}\n                />\n              </div>\n            ))}\n          </div>\n        );\n    }\n  };\n\n  return (\n    <div\n      onClick={onClose}\n      style={{\n        position: \"fixed\",\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n        backgroundColor: \"rgba(15, 23, 42, 0.3)\",\n        backdropFilter: \"blur(6px)\",\n        zIndex: 9999,\n        overflow: \"hidden\",\n      }}\n    >\n      <Card\n        onClick={(e) => e.stopPropagation()}\n        style={{\n          position: \"fixed\",\n          top: \"80px\",\n          left: \"50%\",\n          transform: \"translateX(-50%)\",\n          width: \"100%\",\n          maxWidth: \"448px\",\n          maxHeight: \"calc(100vh - 100px)\",\n          overflowY: \"auto\",\n          borderRadius: \"var(--radius-xl)\",\n          backgroundColor: \"var(--card)\",\n          borderColor: \"var(--border)\",\n          boxShadow: \"0 25px 50px -12px rgba(0, 0, 0, 0.25)\",\n          zIndex: 10000,\n        }}\n        className=\"glass-lg\"\n      >\n        <CardHeader\n          style={{\n            display: \"flex\",\n            flexDirection: \"row\",\n            alignItems: \"center\",\n            justifyContent: \"space-between\",\n            position: \"sticky\",\n            top: 0,\n            backgroundColor: \"var(--card)\",\n            zIndex: 10,\n            padding: \"16px\",\n            borderBottomColor: \"var(--border)\",\n            borderBottomWidth: \"1px\",\n            backdropFilter: \"blur(10px)\",\n          }}\n        >\n          <CardTitle\n            style={{\n              color: \"var(--foreground)\",\n              textTransform: \"capitalize\",\n              fontSize: \"16px\",\n              fontWeight: 600,\n            }}\n          >\n            Edit {section}\n          </CardTitle>\n          <Button\n            variant=\"ghost\"\n            size=\"icon\"\n            onClick={onClose}\n            style={{\n              borderRadius: \"50%\",\n              color: \"var(--muted-foreground)\",\n              padding: \"8px\",\n            }}\n          >\n            <X size={20} />\n          </Button>\n        </CardHeader>\n        <CardContent\n          style={{\n            display: \"flex\",\n            flexDirection: \"column\",\n            gap: \"24px\",\n            padding: \"16px\",\n          }}\n        >\n          {renderFormFields()}\n\n          <div\n            style={{\n              display: \"flex\",\n              gap: \"12px\",\n              marginTop: \"16px\",\n              flexWrap: \"wrap\",\n            }}\n          >\n            <Button\n              variant=\"outline\"\n              onClick={onClose}\n              disabled={isSaving || isDeleting}\n              style={{\n                flex: 1,\n                minWidth: \"100px\",\n                borderRadius: \"var(--radius-xl)\",\n                borderColor: \"var(--border)\",\n                backgroundColor: \"var(--card)\",\n                color: \"var(--foreground)\",\n                padding: \"10px 16px\",\n                fontSize: \"14px\",\n                opacity: isSaving || isDeleting ? 0.5 : 1,\n              }}\n            >\n              Cancel\n            </Button>\n            <Button\n              onClick={handleSave}\n              disabled={!hasChanges || isSaving || isDeleting}\n              style={{\n                flex: 1,\n                minWidth: \"100px\",\n                borderRadius: \"var(--radius-xl)\",\n                backgroundColor: !hasChanges ? \"#9ca3af\" : \"var(--primary)\",\n                color: \"var(--primary-foreground)\",\n                padding: \"10px 16px\",\n                fontSize: \"14px\",\n                opacity: isSaving || isDeleting ? 0.5 : 1,\n                cursor: !hasChanges ? \"not-allowed\" : \"pointer\",\n              }}\n            >\n              {isSaving ? \"Saving...\" : \"Save Changes\"}\n            </Button>\n            <Button\n              onClick={() => setShowConfirmDelete(true)}\n              disabled={isSaving || isDeleting}\n              style={{\n                flex: 1,\n                minWidth: \"100px\",\n                borderRadius: \"var(--radius-xl)\",\n                backgroundColor: \"#ef4444\",\n                color: \"white\",\n                padding: \"10px 16px\",\n                fontSize: \"14px\",\n                opacity: isSaving || isDeleting ? 0.5 : 1,\n                display: \"flex\",\n                alignItems: \"center\",\n                justifyContent: \"center\",\n                gap: \"8px\",\n              }}\n            >\n              <Trash2 size={16} />\n              Delete\n            </Button>\n          </div>\n\n          {/* Delete confirmation dialog */}\n          {showConfirmDelete && (\n            <div\n              style={{\n                position: \"fixed\",\n                top: 0,\n                left: 0,\n                right: 0,\n                bottom: 0,\n                backgroundColor: \"rgba(15, 23, 42, 0.5)\",\n                display: \"flex\",\n                alignItems: \"center\",\n                justifyContent: \"center\",\n                zIndex: 10001,\n              }}\n              onClick={() => setShowConfirmDelete(false)}\n            >\n              <Card\n                onClick={(e) => e.stopPropagation()}\n                style={{\n                  maxWidth: \"400px\",\n                  padding: \"24px\",\n                }}\n              >\n                <h3 style={{ fontSize: \"18px\", fontWeight: 600, marginBottom: \"12px\" }}>\n                  Confirm Delete\n                </h3>\n                <p style={{ color: \"var(--muted-foreground)\", marginBottom: \"20px\" }}>\n                  Are you sure you want to delete {section} data? This action cannot be undone.\n                </p>\n                <div style={{ display: \"flex\", gap: \"12px\" }}>\n                  <Button\n                    variant=\"outline\"\n                    onClick={() => setShowConfirmDelete(false)}\n                    disabled={isDeleting}\n                    style={{\n                      flex: 1,\n                    }}\n                  >\n                    Cancel\n                  </Button>\n                  <Button\n                    onClick={handleDelete}\n                    disabled={isDeleting}\n                    style={{\n                      flex: 1,\n                      backgroundColor: \"#ef4444\",\n                      color: \"white\",\n                    }}\n                  >\n                    {isDeleting ? \"Deleting...\" : \"Delete\"}\n                  </Button>\n                </div>\n              </Card>\n            </div>\n          )}\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AAMA;AAAA;AACA;;;AAZA;;;;;;;AAsBe,SAAS,eAAe,EACrC,OAAO,EACP,WAAW,EACX,SAAS,EACT,OAAO,EACP,aAAa,EACO;;IACpB,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC,WAAW,CAAC,QAAQ,IAAI,CAAC;IAClE,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC;IACzC,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAAC;IAC7C,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,IAAA,yKAAQ,EAAC;IAC3D,MAAM,EAAE,KAAK,EAAE,GAAG,IAAA,+IAAQ;IAE1B,4BAA4B;IAC5B,MAAM,aAAa,KAAK,SAAS,CAAC,cAAc,KAAK,SAAS,CAAC,WAAW,CAAC,QAAQ,IAAI,CAAC;IAExF,yCAAyC;IACzC,IAAA,0KAAS;oCAAC;YACR,SAAS,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG;YAC/B;4CAAO;oBACL,SAAS,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG;gBACjC;;QACF;mCAAG,EAAE;IAEL,MAAM,aAAa;QACjB,IAAI,CAAC,YAAY;YACf,MAAM;gBACJ,aAAa;gBACb,SAAS;YACX;YACA;YACA;QACF;QAEA,qCAAqC;QACrC,MAAM,YAAY,OAAO,OAAO,CAC9B,CAAC,yCAAyC,EAAE,QAAQ,CAAC,CAAC;QAExD,IAAI,CAAC,WAAW;QAEhB,YAAY;QACZ,IAAI;YACF,MAAM,WAAW,MAAM,MAAM,CAAC,aAAa,EAAE,mBAAmB,WAAW,OAAO,CAAC,EAAE;gBACnF,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,aAAa;gBACb,MAAM,KAAK,SAAS,CAAC;oBAAE;oBAAS,MAAM;gBAAS;YACjD;YAEA,IAAI,CAAC,SAAS,EAAE,EAAE;gBAChB,MAAM,QAAQ,MAAM,SAAS,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,CAAC,CAAC;gBACnD,MAAM,IAAI,MAAM,MAAM,KAAK,IAAI;YACjC;YAEA,MAAM;gBACJ,aAAa,GAAG,QAAQ,qBAAqB,CAAC;gBAC9C,SAAS;YACX;YACA;YACA;QACF,EAAE,OAAO,KAAK;YACZ,MAAM;gBACJ,aAAa,eAAe,QAAQ,IAAI,OAAO,GAAG;gBAClD,SAAS;YACX;QACF,SAAU;YACR,YAAY;QACd;IACF;IAEA,MAAM,eAAe;QACnB,MAAM,YAAY,OAAO,OAAO,CAC9B,CAAC,gCAAgC,EAAE,QAAQ,oCAAoC,CAAC;QAElF,IAAI,CAAC,WAAW;QAEhB,cAAc;QACd,IAAI;YACF,MAAM,WAAW,MAAM,MACrB,CAAC,aAAa,EAAE,mBAAmB,WAAW,CAAC,EAAE,SAAS,EAC1D;gBACE,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,aAAa;YACf;YAGF,IAAI,CAAC,SAAS,EAAE,EAAE;gBAChB,MAAM,QAAQ,MAAM,SAAS,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,CAAC,CAAC;gBACnD,MAAM,IAAI,MAAM,MAAM,KAAK,IAAI;YACjC;YAEA,MAAM;gBACJ,aAAa,GAAG,QAAQ,qBAAqB,CAAC;gBAC9C,SAAS;YACX;YACA;YACA;QACF,EAAE,OAAO,KAAK;YACZ,MAAM;gBACJ,aAAa,eAAe,QAAQ,IAAI,OAAO,GAAG;gBAClD,SAAS;YACX;QACF,SAAU;YACR,cAAc;YACd,qBAAqB;QACvB;IACF;IAEA,MAAM,mBAAmB;QACvB,OAAQ;YACN,KAAK;gBACH,qBACE,6LAAC;oBAAI,OAAO;wBAAE,SAAS;wBAAQ,eAAe;wBAAU,KAAK;oBAAO;;sCAClE,6LAAC;;8CACC,6LAAC;oCACC,OAAO;wCACL,UAAU;wCACV,YAAY;wCACZ,OAAO;wCACP,SAAS;wCACT,cAAc;oCAChB;8CACD;;;;;;8CAGD,6LAAC,sIAAK;oCACJ,OAAO,SAAS,GAAG,IAAI;oCACvB,UAAU,CAAC,IACT,YAAY;4CAAE,GAAG,QAAQ;4CAAE,KAAK,EAAE,MAAM,CAAC,KAAK;wCAAC;oCAEjD,OAAO;wCACL,iBAAiB;wCACjB,aAAa;wCACb,OAAO;wCACP,cAAc;wCACd,SAAS;wCACT,UAAU;oCACZ;;;;;;;;;;;;sCAGJ,6LAAC;;8CACC,6LAAC;oCACC,OAAO;wCACL,UAAU;wCACV,YAAY;wCACZ,OAAO;wCACP,SAAS;wCACT,cAAc;oCAChB;8CACD;;;;;;8CAGD,6LAAC,sIAAK;oCACJ,OAAO,SAAS,OAAO,IAAI;oCAC3B,UAAU,CAAC,IACT,YAAY;4CAAE,GAAG,QAAQ;4CAAE,SAAS,EAAE,MAAM,CAAC,KAAK;wCAAC;oCAErD,OAAO;wCACL,iBAAiB;wCACjB,aAAa;wCACb,OAAO;wCACP,cAAc;wCACd,SAAS;wCACT,UAAU;oCACZ;;;;;;;;;;;;sCAGJ,6LAAC;;8CACC,6LAAC;oCACC,OAAO;wCACL,UAAU;wCACV,YAAY;wCACZ,OAAO;wCACP,SAAS;wCACT,cAAc;oCAChB;8CACD;;;;;;8CAGD,6LAAC,sIAAK;oCACJ,OAAO,SAAS,UAAU,IAAI;oCAC9B,UAAU,CAAC,IACT,YAAY;4CAAE,GAAG,QAAQ;4CAAE,YAAY,EAAE,MAAM,CAAC,KAAK;wCAAC;oCAExD,OAAO;wCACL,iBAAiB;wCACjB,aAAa;wCACb,OAAO;wCACP,cAAc;wCACd,SAAS;wCACT,UAAU;oCACZ;;;;;;;;;;;;sCAGJ,6LAAC;;8CACC,6LAAC;oCACC,OAAO;wCACL,UAAU;wCACV,YAAY;wCACZ,OAAO;wCACP,SAAS;wCACT,cAAc;oCAChB;8CACD;;;;;;8CAGD,6LAAC,sIAAK;oCACJ,OAAO,SAAS,WAAW,IAAI;oCAC/B,UAAU,CAAC,IACT,YAAY;4CAAE,GAAG,QAAQ;4CAAE,aAAa,EAAE,MAAM,CAAC,KAAK;wCAAC;oCAEzD,OAAO;wCACL,iBAAiB;wCACjB,aAAa;wCACb,OAAO;wCACP,cAAc;wCACd,SAAS;wCACT,UAAU;oCACZ;;;;;;;;;;;;;;;;;;YAKV,KAAK;gBACH,qBACE,6LAAC;oBAAI,OAAO;wBAAE,SAAS;wBAAQ,eAAe;wBAAU,KAAK;oBAAO;8BAClE,cAAA,6LAAC;wBACC,OAAO;4BACL,SAAS;4BACT,qBAAqB;4BACrB,KAAK;wBACP;;0CAEA,6LAAC;;kDACC,6LAAC;wCACC,OAAO;4CACL,UAAU;4CACV,YAAY;4CACZ,OAAO;4CACP,SAAS;4CACT,cAAc;wCAChB;kDACD;;;;;;kDAGD,6LAAC,sIAAK;wCACJ,MAAK;wCACL,OAAO,SAAS,KAAK,EAAE,cAAc;wCACrC,UAAU,CAAC,IACT,YAAY;gDACV,GAAG,QAAQ;gDACX,OAAO;oDACL,GAAG,SAAS,KAAK;oDACjB,YAAY,WAAW,EAAE,MAAM,CAAC,KAAK;gDACvC;4CACF;wCAEF,OAAO;4CACL,iBAAiB;4CACjB,aAAa;4CACb,OAAO;4CACP,cAAc;4CACd,SAAS;4CACT,UAAU;wCACZ;;;;;;;;;;;;0CAGJ,6LAAC;;kDACC,6LAAC;wCACC,OAAO;4CACL,UAAU;4CACV,YAAY;4CACZ,OAAO;4CACP,SAAS;4CACT,cAAc;wCAChB;kDACD;;;;;;kDAGD,6LAAC,sIAAK;wCACJ,MAAK;wCACL,OAAO,SAAS,MAAM,EAAE,QAAQ;wCAChC,UAAU,CAAC,IACT,YAAY;gDACV,GAAG,QAAQ;gDACX,QAAQ;oDACN,GAAG,SAAS,MAAM;oDAClB,MAAM,WAAW,EAAE,MAAM,CAAC,KAAK;gDACjC;4CACF;wCAEF,OAAO;4CACL,iBAAiB;4CACjB,aAAa;4CACb,OAAO;4CACP,cAAc;4CACd,SAAS;4CACT,UAAU;wCACZ;;;;;;;;;;;;;;;;;;;;;;;YAMZ;gBACE,qBACE,6LAAC;oBAAI,OAAO;wBAAE,SAAS;wBAAQ,eAAe;wBAAU,KAAK;oBAAO;8BACjE,OAAO,OAAO,CAAC,UAAU,GAAG,CAAC,CAAC,CAAC,KAAK,MAAM,iBACzC,6LAAC;;8CACC,6LAAC;oCACC,OAAO;wCACL,UAAU;wCACV,YAAY;wCACZ,OAAO;wCACP,SAAS;wCACT,cAAc;wCACd,eAAe;oCACjB;8CAEC;;;;;;8CAEH,6LAAC,sIAAK;oCACJ,OAAO,OAAO;oCACd,UAAU,CAAC,IACT,YAAY;4CAAE,GAAG,QAAQ;4CAAE,CAAC,IAAI,EAAE,EAAE,MAAM,CAAC,KAAK;wCAAC;oCAEnD,OAAO;wCACL,iBAAiB;wCACjB,aAAa;wCACb,OAAO;wCACP,cAAc;wCACd,SAAS;wCACT,UAAU;oCACZ;;;;;;;2BAzBM;;;;;;;;;;QA+BpB;IACF;IAEA,qBACE,6LAAC;QACC,SAAS;QACT,OAAO;YACL,UAAU;YACV,KAAK;YACL,MAAM;YACN,OAAO;YACP,QAAQ;YACR,iBAAiB;YACjB,gBAAgB;YAChB,QAAQ;YACR,UAAU;QACZ;kBAEA,cAAA,6LAAC,oIAAI;YACH,SAAS,CAAC,IAAM,EAAE,eAAe;YACjC,OAAO;gBACL,UAAU;gBACV,KAAK;gBACL,MAAM;gBACN,WAAW;gBACX,OAAO;gBACP,UAAU;gBACV,WAAW;gBACX,WAAW;gBACX,cAAc;gBACd,iBAAiB;gBACjB,aAAa;gBACb,WAAW;gBACX,QAAQ;YACV;YACA,WAAU;;8BAEV,6LAAC,0IAAU;oBACT,OAAO;wBACL,SAAS;wBACT,eAAe;wBACf,YAAY;wBACZ,gBAAgB;wBAChB,UAAU;wBACV,KAAK;wBACL,iBAAiB;wBACjB,QAAQ;wBACR,SAAS;wBACT,mBAAmB;wBACnB,mBAAmB;wBACnB,gBAAgB;oBAClB;;sCAEA,6LAAC,yIAAS;4BACR,OAAO;gCACL,OAAO;gCACP,eAAe;gCACf,UAAU;gCACV,YAAY;4BACd;;gCACD;gCACO;;;;;;;sCAER,6LAAC,wIAAM;4BACL,SAAQ;4BACR,MAAK;4BACL,SAAS;4BACT,OAAO;gCACL,cAAc;gCACd,OAAO;gCACP,SAAS;4BACX;sCAEA,cAAA,6LAAC,oMAAC;gCAAC,MAAM;;;;;;;;;;;;;;;;;8BAGb,6LAAC,2IAAW;oBACV,OAAO;wBACL,SAAS;wBACT,eAAe;wBACf,KAAK;wBACL,SAAS;oBACX;;wBAEC;sCAED,6LAAC;4BACC,OAAO;gCACL,SAAS;gCACT,KAAK;gCACL,WAAW;gCACX,UAAU;4BACZ;;8CAEA,6LAAC,wIAAM;oCACL,SAAQ;oCACR,SAAS;oCACT,UAAU,YAAY;oCACtB,OAAO;wCACL,MAAM;wCACN,UAAU;wCACV,cAAc;wCACd,aAAa;wCACb,iBAAiB;wCACjB,OAAO;wCACP,SAAS;wCACT,UAAU;wCACV,SAAS,YAAY,aAAa,MAAM;oCAC1C;8CACD;;;;;;8CAGD,6LAAC,wIAAM;oCACL,SAAS;oCACT,UAAU,CAAC,cAAc,YAAY;oCACrC,OAAO;wCACL,MAAM;wCACN,UAAU;wCACV,cAAc;wCACd,iBAAiB,CAAC,aAAa,YAAY;wCAC3C,OAAO;wCACP,SAAS;wCACT,UAAU;wCACV,SAAS,YAAY,aAAa,MAAM;wCACxC,QAAQ,CAAC,aAAa,gBAAgB;oCACxC;8CAEC,WAAW,cAAc;;;;;;8CAE5B,6LAAC,wIAAM;oCACL,SAAS,IAAM,qBAAqB;oCACpC,UAAU,YAAY;oCACtB,OAAO;wCACL,MAAM;wCACN,UAAU;wCACV,cAAc;wCACd,iBAAiB;wCACjB,OAAO;wCACP,SAAS;wCACT,UAAU;wCACV,SAAS,YAAY,aAAa,MAAM;wCACxC,SAAS;wCACT,YAAY;wCACZ,gBAAgB;wCAChB,KAAK;oCACP;;sDAEA,6LAAC,uNAAM;4CAAC,MAAM;;;;;;wCAAM;;;;;;;;;;;;;wBAMvB,mCACC,6LAAC;4BACC,OAAO;gCACL,UAAU;gCACV,KAAK;gCACL,MAAM;gCACN,OAAO;gCACP,QAAQ;gCACR,iBAAiB;gCACjB,SAAS;gCACT,YAAY;gCACZ,gBAAgB;gCAChB,QAAQ;4BACV;4BACA,SAAS,IAAM,qBAAqB;sCAEpC,cAAA,6LAAC,oIAAI;gCACH,SAAS,CAAC,IAAM,EAAE,eAAe;gCACjC,OAAO;oCACL,UAAU;oCACV,SAAS;gCACX;;kDAEA,6LAAC;wCAAG,OAAO;4CAAE,UAAU;4CAAQ,YAAY;4CAAK,cAAc;wCAAO;kDAAG;;;;;;kDAGxE,6LAAC;wCAAE,OAAO;4CAAE,OAAO;4CAA2B,cAAc;wCAAO;;4CAAG;4CACnC;4CAAQ;;;;;;;kDAE3C,6LAAC;wCAAI,OAAO;4CAAE,SAAS;4CAAQ,KAAK;wCAAO;;0DACzC,6LAAC,wIAAM;gDACL,SAAQ;gDACR,SAAS,IAAM,qBAAqB;gDACpC,UAAU;gDACV,OAAO;oDACL,MAAM;gDACR;0DACD;;;;;;0DAGD,6LAAC,wIAAM;gDACL,SAAS;gDACT,UAAU;gDACV,OAAO;oDACL,MAAM;oDACN,iBAAiB;oDACjB,OAAO;gDACT;0DAEC,aAAa,gBAAgB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAUlD;GAxiBwB;;QAWJ,+IAAQ;;;KAXJ","debugId":null}},
    {"offset": {"line": 2733, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Tejab/Desktop/final_year_project/TRACKSHEET/UI/components/sections/overall-analysis-section.tsx"],"sourcesContent":["\"use client\"\n\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport {\n  BarChart,\n  Bar,\n  PieChart,\n  Pie,\n  Cell,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n  Legend,\n  ResponsiveContainer,\n  LineChart,\n  Line,\n  RadarChart,\n  PolarGrid,\n  PolarAngleAxis,\n  PolarRadiusAxis,\n  Radar,\n} from \"recharts\"\nimport { TrendingUp, AlertTriangle, Briefcase } from \"lucide-react\"\n\ninterface OverallAnalysisSectionProps {\n  studentId: string\n}\n\nexport default function OverallAnalysisSection({ studentId }: OverallAnalysisSectionProps) {\n  const academicData = [\n    { category: \"10th\", score: 92 },\n    { category: \"Intermediate\", score: 88 },\n    { category: \"Degree\", score: 85 },\n  ]\n\n  const activitiesData = [\n    { name: \"Co-Curricular\", value: 35 },\n    { name: \"Extra-Curricular\", value: 40 },\n    { name: \"Online Platforms\", value: 25 },\n  ]\n\n  const performanceData = [\n    { month: \"Jan\", academic: 80, activities: 70, platforms: 60 },\n    { month: \"Feb\", academic: 82, activities: 75, platforms: 65 },\n    { month: \"Mar\", academic: 85, activities: 80, platforms: 70 },\n    { month: \"Apr\", academic: 88, activities: 85, platforms: 75 },\n    { month: \"May\", academic: 85, activities: 88, platforms: 80 },\n    { month: \"Jun\", academic: 87, activities: 90, platforms: 85 },\n  ]\n\n  const COLORS = [\"#3b82f6\", \"#10b981\", \"#f59e0b\", \"#ef4444\", \"#8b5cf6\"]\n\n  const predictiveData = [\n    {\n      metric: \"Next Semester GPA\",\n      value: 3.6,\n      confidence: 87,\n      trend: \"up\",\n      description: \"Expected GPA based on current performance trajectory\",\n    },\n    {\n      metric: \"Dropout Risk Score\",\n      value: 15,\n      confidence: 92,\n      trend: \"down\",\n      description: \"Probability of dropout (lower is better)\",\n    },\n    {\n      metric: \"Career Readiness Index\",\n      value: 78,\n      confidence: 84,\n      trend: \"up\",\n      description: \"Readiness for industry roles based on skills\",\n    },\n  ]\n\n  const radarData = [\n    { category: \"Academic\", value: 85 },\n    { category: \"Coding Skills\", value: 78 },\n    { category: \"Communication\", value: 72 },\n    { category: \"Leadership\", value: 68 },\n    { category: \"Teamwork\", value: 82 },\n    { category: \"Problem Solving\", value: 88 },\n  ]\n\n  return (\n    <div className=\"space-y-6\">\n      <h2 className=\"text-3xl font-bold text-slate-900 gradient-text\">Overall Analysis</h2>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n        {predictiveData.map((item, index) => {\n          const Icon =\n            item.metric === \"Next Semester GPA\"\n              ? TrendingUp\n              : item.metric === \"Dropout Risk Score\"\n                ? AlertTriangle\n                : Briefcase\n          return (\n            <Card key={index} className=\"glass-sm border border-slate-200/80\">\n              <CardContent className=\"pt-6\">\n                <div className=\"flex items-start justify-between mb-4\">\n                  <div>\n                    <p className=\"text-slate-500 text-sm mb-1\">{item.metric}</p>\n                    <div className=\"flex items-baseline gap-2\">\n                      <span className=\"text-3xl font-bold text-sky-600\">{item.value}</span>\n                      {item.metric === \"Next Semester GPA\" && <span className=\"text-slate-500\">/4.0</span>}\n                      {item.metric === \"Dropout Risk Score\" && <span className=\"text-slate-500\">%</span>}\n                      {item.metric === \"Career Readiness Index\" && <span className=\"text-slate-500\">/100</span>}\n                    </div>\n                  </div>\n                  <Icon className=\"text-sky-500\" size={24} />\n                </div>\n                <div className=\"space-y-2\">\n                  <div className=\"flex items-center justify-between text-xs\">\n                    <span className=\"text-slate-500\">Confidence</span>\n                    <span className=\"text-slate-600\">{item.confidence}%</span>\n                  </div>\n                  <div className=\"w-full bg-slate-100 rounded-full h-2\">\n                    <div className=\"bg-sky-500 h-2 rounded-full\" style={{ width: `${item.confidence}%` }}></div>\n                  </div>\n                  <p className=\"text-slate-600 text-xs mt-3\">{item.description}</p>\n                </div>\n              </CardContent>\n            </Card>\n          )\n        })}\n      </div>\n\n      <Card className=\"glass-sm border border-slate-200/80\">\n        <CardHeader>\n          <CardTitle className=\"text-slate-900\">Holistic Profile (360Â° View)</CardTitle>\n        </CardHeader>\n        <CardContent>\n          <ResponsiveContainer width=\"100%\" height={300}>\n            <RadarChart data={radarData}>\n              <PolarGrid stroke=\"#e5e7eb\" />\n              <PolarAngleAxis dataKey=\"category\" stroke=\"#64748b\" />\n              <PolarRadiusAxis stroke=\"#64748b\" />\n              <Radar name=\"Score\" dataKey=\"value\" stroke=\"#3b82f6\" fill=\"#3b82f6\" fillOpacity={0.35} />\n              <Tooltip contentStyle={{ backgroundColor: \"#ffffff\", border: \"1px solid #e2e8f0\", borderRadius: 12 }} />\n            </RadarChart>\n          </ResponsiveContainer>\n        </CardContent>\n      </Card>\n\n      {/* Academic Performance */}\n      <Card className=\"glass-sm border border-slate-200/80\">\n        <CardHeader>\n          <CardTitle className=\"text-slate-900\">Academic Performance</CardTitle>\n        </CardHeader>\n        <CardContent>\n          <ResponsiveContainer width=\"100%\" height={300}>\n            <BarChart data={academicData}>\n              <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#e5e7eb\" />\n              <XAxis dataKey=\"category\" stroke=\"#64748b\" />\n              <YAxis stroke=\"#64748b\" />\n              <Tooltip contentStyle={{ backgroundColor: \"#ffffff\", border: \"1px solid #e2e8f0\", borderRadius: 12 }} />\n              <Bar dataKey=\"score\" fill=\"#3b82f6\" radius={[8, 8, 0, 0]} />\n            </BarChart>\n          </ResponsiveContainer>\n        </CardContent>\n      </Card>\n\n      {/* Activities Distribution */}\n      <Card className=\"glass-sm border border-slate-200/80\">\n        <CardHeader>\n          <CardTitle className=\"text-slate-900\">Activities Distribution</CardTitle>\n        </CardHeader>\n        <CardContent>\n          <ResponsiveContainer width=\"100%\" height={300}>\n            <PieChart>\n              <Pie\n                data={activitiesData}\n                cx=\"50%\"\n                cy=\"50%\"\n                labelLine={false}\n                label={({ name, value }) => `${name}: ${value}%`}\n                outerRadius={100}\n                fill=\"#8884d8\"\n                dataKey=\"value\"\n              >\n                {activitiesData.map((entry, index) => (\n                  <Cell key={`cell-${index}`} fill={COLORS[index % COLORS.length]} />\n                ))}\n              </Pie>\n              <Tooltip contentStyle={{ backgroundColor: \"#ffffff\", border: \"1px solid #e2e8f0\", borderRadius: 12 }} />\n            </PieChart>\n          </ResponsiveContainer>\n        </CardContent>\n      </Card>\n\n      {/* Performance Trend */}\n      <Card className=\"glass-sm border border-slate-200/80\">\n        <CardHeader>\n          <CardTitle className=\"text-slate-900\">Performance Trend</CardTitle>\n        </CardHeader>\n        <CardContent>\n          <ResponsiveContainer width=\"100%\" height={300}>\n            <LineChart data={performanceData}>\n              <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#e5e7eb\" />\n              <XAxis dataKey=\"month\" stroke=\"#64748b\" />\n              <YAxis stroke=\"#64748b\" />\n              <Tooltip contentStyle={{ backgroundColor: \"#ffffff\", border: \"1px solid #e2e8f0\", borderRadius: 12 }} />\n              <Legend />\n              <Line type=\"monotone\" dataKey=\"academic\" stroke=\"#3b82f6\" strokeWidth={2} />\n              <Line type=\"monotone\" dataKey=\"activities\" stroke=\"#10b981\" strokeWidth={2} />\n              <Line type=\"monotone\" dataKey=\"platforms\" stroke=\"#f59e0b\" strokeWidth={2} />\n            </LineChart>\n          </ResponsiveContainer>\n        </CardContent>\n      </Card>\n\n      {/* Recommendations */}\n      <Card className=\"glass-sm border border-slate-200/80\">\n        <CardHeader>\n          <CardTitle className=\"text-slate-900\">Recommendations</CardTitle>\n        </CardHeader>\n        <CardContent className=\"space-y-4\">\n          <div className=\"bg-slate-50 border border-slate-200 p-4 rounded-lg border-l-4 border-blue-500\">\n            <h4 className=\"text-slate-900 font-semibold mb-2\">Individual Recommendations</h4>\n            <ul className=\"text-slate-600 space-y-2 text-sm\">\n              <li>â€¢ Focus on maintaining consistent academic performance</li>\n              <li>â€¢ Increase participation in coding competitions</li>\n              <li>â€¢ Explore more online learning platforms for skill development</li>\n              <li>â€¢ Balance academic and extra-curricular activities</li>\n            </ul>\n          </div>\n\n          <div className=\"bg-slate-50 border border-slate-200 p-4 rounded-lg border-l-4 border-green-500\">\n            <h4 className=\"text-slate-900 font-semibold mb-2\">Overall Performance Summary</h4>\n            <ul className=\"text-slate-600 space-y-2 text-sm\">\n              <li>âœ“ Strong academic foundation with 85% average</li>\n              <li>âœ“ Good participation in co-curricular activities</li>\n              <li>âœ“ Active on multiple online coding platforms</li>\n              <li>â†’ Continue current trajectory with focus on specialization</li>\n            </ul>\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAoBA;AAAA;AAAA;AAvBA;;;;;AA6Be,SAAS,uBAAuB,EAAE,SAAS,EAA+B;IACvF,MAAM,eAAe;QACnB;YAAE,UAAU;YAAQ,OAAO;QAAG;QAC9B;YAAE,UAAU;YAAgB,OAAO;QAAG;QACtC;YAAE,UAAU;YAAU,OAAO;QAAG;KACjC;IAED,MAAM,iBAAiB;QACrB;YAAE,MAAM;YAAiB,OAAO;QAAG;QACnC;YAAE,MAAM;YAAoB,OAAO;QAAG;QACtC;YAAE,MAAM;YAAoB,OAAO;QAAG;KACvC;IAED,MAAM,kBAAkB;QACtB;YAAE,OAAO;YAAO,UAAU;YAAI,YAAY;YAAI,WAAW;QAAG;QAC5D;YAAE,OAAO;YAAO,UAAU;YAAI,YAAY;YAAI,WAAW;QAAG;QAC5D;YAAE,OAAO;YAAO,UAAU;YAAI,YAAY;YAAI,WAAW;QAAG;QAC5D;YAAE,OAAO;YAAO,UAAU;YAAI,YAAY;YAAI,WAAW;QAAG;QAC5D;YAAE,OAAO;YAAO,UAAU;YAAI,YAAY;YAAI,WAAW;QAAG;QAC5D;YAAE,OAAO;YAAO,UAAU;YAAI,YAAY;YAAI,WAAW;QAAG;KAC7D;IAED,MAAM,SAAS;QAAC;QAAW;QAAW;QAAW;QAAW;KAAU;IAEtE,MAAM,iBAAiB;QACrB;YACE,QAAQ;YACR,OAAO;YACP,YAAY;YACZ,OAAO;YACP,aAAa;QACf;QACA;YACE,QAAQ;YACR,OAAO;YACP,YAAY;YACZ,OAAO;YACP,aAAa;QACf;QACA;YACE,QAAQ;YACR,OAAO;YACP,YAAY;YACZ,OAAO;YACP,aAAa;QACf;KACD;IAED,MAAM,YAAY;QAChB;YAAE,UAAU;YAAY,OAAO;QAAG;QAClC;YAAE,UAAU;YAAiB,OAAO;QAAG;QACvC;YAAE,UAAU;YAAiB,OAAO;QAAG;QACvC;YAAE,UAAU;YAAc,OAAO;QAAG;QACpC;YAAE,UAAU;YAAY,OAAO;QAAG;QAClC;YAAE,UAAU;YAAmB,OAAO;QAAG;KAC1C;IAED,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAG,WAAU;0BAAkD;;;;;;0BAEhE,6LAAC;gBAAI,WAAU;0BACZ,eAAe,GAAG,CAAC,CAAC,MAAM;oBACzB,MAAM,OACJ,KAAK,MAAM,KAAK,sBACZ,mOAAU,GACV,KAAK,MAAM,KAAK,uBACd,4OAAa,GACb,4NAAS;oBACjB,qBACE,6LAAC,oIAAI;wBAAa,WAAU;kCAC1B,cAAA,6LAAC,2IAAW;4BAAC,WAAU;;8CACrB,6LAAC;oCAAI,WAAU;;sDACb,6LAAC;;8DACC,6LAAC;oDAAE,WAAU;8DAA+B,KAAK,MAAM;;;;;;8DACvD,6LAAC;oDAAI,WAAU;;sEACb,6LAAC;4DAAK,WAAU;sEAAmC,KAAK,KAAK;;;;;;wDAC5D,KAAK,MAAM,KAAK,qCAAuB,6LAAC;4DAAK,WAAU;sEAAiB;;;;;;wDACxE,KAAK,MAAM,KAAK,sCAAwB,6LAAC;4DAAK,WAAU;sEAAiB;;;;;;wDACzE,KAAK,MAAM,KAAK,0CAA4B,6LAAC;4DAAK,WAAU;sEAAiB;;;;;;;;;;;;;;;;;;sDAGlF,6LAAC;4CAAK,WAAU;4CAAe,MAAM;;;;;;;;;;;;8CAEvC,6LAAC;oCAAI,WAAU;;sDACb,6LAAC;4CAAI,WAAU;;8DACb,6LAAC;oDAAK,WAAU;8DAAiB;;;;;;8DACjC,6LAAC;oDAAK,WAAU;;wDAAkB,KAAK,UAAU;wDAAC;;;;;;;;;;;;;sDAEpD,6LAAC;4CAAI,WAAU;sDACb,cAAA,6LAAC;gDAAI,WAAU;gDAA8B,OAAO;oDAAE,OAAO,GAAG,KAAK,UAAU,CAAC,CAAC,CAAC;gDAAC;;;;;;;;;;;sDAErF,6LAAC;4CAAE,WAAU;sDAA+B,KAAK,WAAW;;;;;;;;;;;;;;;;;;uBAtBvD;;;;;gBA2Bf;;;;;;0BAGF,6LAAC,oIAAI;gBAAC,WAAU;;kCACd,6LAAC,0IAAU;kCACT,cAAA,6LAAC,yIAAS;4BAAC,WAAU;sCAAiB;;;;;;;;;;;kCAExC,6LAAC,2IAAW;kCACV,cAAA,6LAAC,6LAAmB;4BAAC,OAAM;4BAAO,QAAQ;sCACxC,cAAA,6LAAC,uKAAU;gCAAC,MAAM;;kDAChB,6LAAC,qKAAS;wCAAC,QAAO;;;;;;kDAClB,6LAAC,+KAAc;wCAAC,SAAQ;wCAAW,QAAO;;;;;;kDAC1C,6LAAC,iLAAe;wCAAC,QAAO;;;;;;kDACxB,6LAAC,6JAAK;wCAAC,MAAK;wCAAQ,SAAQ;wCAAQ,QAAO;wCAAU,MAAK;wCAAU,aAAa;;;;;;kDACjF,6LAAC,qKAAO;wCAAC,cAAc;4CAAE,iBAAiB;4CAAW,QAAQ;4CAAqB,cAAc;wCAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAO3G,6LAAC,oIAAI;gBAAC,WAAU;;kCACd,6LAAC,0IAAU;kCACT,cAAA,6LAAC,yIAAS;4BAAC,WAAU;sCAAiB;;;;;;;;;;;kCAExC,6LAAC,2IAAW;kCACV,cAAA,6LAAC,6LAAmB;4BAAC,OAAM;4BAAO,QAAQ;sCACxC,cAAA,6LAAC,mKAAQ;gCAAC,MAAM;;kDACd,6LAAC,iLAAa;wCAAC,iBAAgB;wCAAM,QAAO;;;;;;kDAC5C,6LAAC,iKAAK;wCAAC,SAAQ;wCAAW,QAAO;;;;;;kDACjC,6LAAC,iKAAK;wCAAC,QAAO;;;;;;kDACd,6LAAC,qKAAO;wCAAC,cAAc;4CAAE,iBAAiB;4CAAW,QAAQ;4CAAqB,cAAc;wCAAG;;;;;;kDACnG,6LAAC,6JAAG;wCAAC,SAAQ;wCAAQ,MAAK;wCAAU,QAAQ;4CAAC;4CAAG;4CAAG;4CAAG;yCAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAOhE,6LAAC,oIAAI;gBAAC,WAAU;;kCACd,6LAAC,0IAAU;kCACT,cAAA,6LAAC,yIAAS;4BAAC,WAAU;sCAAiB;;;;;;;;;;;kCAExC,6LAAC,2IAAW;kCACV,cAAA,6LAAC,6LAAmB;4BAAC,OAAM;4BAAO,QAAQ;sCACxC,cAAA,6LAAC,mKAAQ;;kDACP,6LAAC,yJAAG;wCACF,MAAM;wCACN,IAAG;wCACH,IAAG;wCACH,WAAW;wCACX,OAAO,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,GAAK,GAAG,KAAK,EAAE,EAAE,MAAM,CAAC,CAAC;wCAChD,aAAa;wCACb,MAAK;wCACL,SAAQ;kDAEP,eAAe,GAAG,CAAC,CAAC,OAAO,sBAC1B,6LAAC,+JAAI;gDAAuB,MAAM,MAAM,CAAC,QAAQ,OAAO,MAAM,CAAC;+CAApD,CAAC,KAAK,EAAE,OAAO;;;;;;;;;;kDAG9B,6LAAC,qKAAO;wCAAC,cAAc;4CAAE,iBAAiB;4CAAW,QAAQ;4CAAqB,cAAc;wCAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAO3G,6LAAC,oIAAI;gBAAC,WAAU;;kCACd,6LAAC,0IAAU;kCACT,cAAA,6LAAC,yIAAS;4BAAC,WAAU;sCAAiB;;;;;;;;;;;kCAExC,6LAAC,2IAAW;kCACV,cAAA,6LAAC,6LAAmB;4BAAC,OAAM;4BAAO,QAAQ;sCACxC,cAAA,6LAAC,qKAAS;gCAAC,MAAM;;kDACf,6LAAC,iLAAa;wCAAC,iBAAgB;wCAAM,QAAO;;;;;;kDAC5C,6LAAC,iKAAK;wCAAC,SAAQ;wCAAQ,QAAO;;;;;;kDAC9B,6LAAC,iKAAK;wCAAC,QAAO;;;;;;kDACd,6LAAC,qKAAO;wCAAC,cAAc;4CAAE,iBAAiB;4CAAW,QAAQ;4CAAqB,cAAc;wCAAG;;;;;;kDACnG,6LAAC,mKAAM;;;;;kDACP,6LAAC,+JAAI;wCAAC,MAAK;wCAAW,SAAQ;wCAAW,QAAO;wCAAU,aAAa;;;;;;kDACvE,6LAAC,+JAAI;wCAAC,MAAK;wCAAW,SAAQ;wCAAa,QAAO;wCAAU,aAAa;;;;;;kDACzE,6LAAC,+JAAI;wCAAC,MAAK;wCAAW,SAAQ;wCAAY,QAAO;wCAAU,aAAa;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAOhF,6LAAC,oIAAI;gBAAC,WAAU;;kCACd,6LAAC,0IAAU;kCACT,cAAA,6LAAC,yIAAS;4BAAC,WAAU;sCAAiB;;;;;;;;;;;kCAExC,6LAAC,2IAAW;wBAAC,WAAU;;0CACrB,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAG,WAAU;kDAAoC;;;;;;kDAClD,6LAAC;wCAAG,WAAU;;0DACZ,6LAAC;0DAAG;;;;;;0DACJ,6LAAC;0DAAG;;;;;;0DACJ,6LAAC;0DAAG;;;;;;0DACJ,6LAAC;0DAAG;;;;;;;;;;;;;;;;;;0CAIR,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAG,WAAU;kDAAoC;;;;;;kDAClD,6LAAC;wCAAG,WAAU;;0DACZ,6LAAC;0DAAG;;;;;;0DACJ,6LAAC;0DAAG;;;;;;0DACJ,6LAAC;0DAAG;;;;;;0DACJ,6LAAC;0DAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOlB;KArNwB","debugId":null}},
    {"offset": {"line": 3594, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Tejab/Desktop/final_year_project/TRACKSHEET/UI/components/staff-student-details.tsx"],"sourcesContent":["\"use client\"\n\nimport { useEffect, useMemo, useState } from \"react\"\nimport { Button } from \"@/components/ui/button\"\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { ArrowLeft } from \"lucide-react\"\nimport StaffEditModal from \"./staff-edit-modal\"\nimport OverallAnalysisSection from \"./sections/overall-analysis-section\"\n\ninterface StaffStudentDetailsProps {\n  studentId: string\n  onBack?: () => void\n}\n\nexport default function StaffStudentDetails({ studentId, onBack }: StaffStudentDetailsProps) {\n  const [editingSection, setEditingSection] = useState<string | null>(null)\n  const [studentData, setStudentData] = useState<{\n    profile: {\n      fullName: string\n      email: string\n      phone: string\n      dob: string\n      address: string\n      rollNumber: string\n      year: string\n      branch: string\n      section: string\n      parentName: string\n      parentPhone: string\n      leetcode?: string\n      codeforces?: string\n      hackerrank?: string\n      codechef?: string\n    }\n    academics: { subjects: Array<{ name: string; score: string | number }> }\n    cocirculars: { categories: Array<{ category: string; entries: string[] }> }\n    ecirculars: { categories: Array<{ category: string; entries: string[] }> }\n  } | null>(null)\n  const [isLoading, setIsLoading] = useState(true)\n  const [loadError, setLoadError] = useState<string | null>(null)\n\n  useEffect(() => {\n    let isMounted = true\n    const load = async () => {\n      setIsLoading(true)\n      setLoadError(null)\n      try {\n        const response = await fetch(`/api/student/${encodeURIComponent(studentId)}`, { credentials: \"include\" })\n        if (!response.ok) {\n          const data = await response.json().catch(() => ({}))\n          throw new Error(data.error || \"Failed to load student data\")\n        }\n        const data = await response.json()\n        if (isMounted) {\n          setStudentData(data)\n        }\n      } catch (err) {\n        if (isMounted) {\n          setLoadError(err instanceof Error ? err.message : \"Failed to load student data\")\n        }\n      } finally {\n        if (isMounted) {\n          setIsLoading(false)\n        }\n      }\n    }\n\n    load()\n    return () => {\n      isMounted = false\n    }\n  }, [studentId])\n\n  const editPayload = useMemo(() => {\n    if (!studentData) return null\n\n    const academicFields: Record<string, string | number> = {}\n    studentData.academics.subjects.forEach((subject) => {\n      academicFields[subject.name] = subject.score\n    })\n\n    const toCategoryMap = (categories: Array<{ category: string; entries: string[] }>) => {\n      const result: Record<string, string> = {}\n      categories.forEach((item) => {\n        result[item.category] = item.entries.join(\"\\n\")\n      })\n      return result\n    }\n\n    return {\n      profile: studentData.profile,\n      academic: academicFields,\n      cocircular: toCategoryMap(studentData.cocirculars.categories),\n      extracircular: toCategoryMap(studentData.ecirculars.categories),\n      platforms: {},\n    }\n  }, [studentData])\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex items-center gap-4\">\n        {onBack && (\n          <Button variant=\"outline\" onClick={onBack} className=\"text-slate-700 border-slate-300 bg-white/70 hover:bg-slate-100\">\n            <ArrowLeft size={20} />\n            Back\n          </Button>\n        )}\n        <div>\n          <h2 className=\"text-2xl font-bold text-slate-900\">\n            {studentData?.profile.fullName || \"Student\"}\n          </h2>\n          <p className=\"text-slate-500\">{studentData?.profile.email || \"\"}</p>\n        </div>\n      </div>\n\n      {isLoading ? (\n        <div className=\"text-sm text-slate-500\">Loading student data...</div>\n      ) : loadError ? (\n        <div className=\"text-sm text-rose-600\">{loadError}</div>\n      ) : null}\n\n      {/* Profile section */}\n      <Card className=\"glass-sm border border-slate-200/80\">\n        <CardHeader className=\"flex flex-row items-center justify-between\">\n          <CardTitle className=\"text-slate-900\">Profile Details</CardTitle>\n          <Button size=\"sm\" onClick={() => setEditingSection(\"profile\")} className=\"bg-sky-600 hover:bg-sky-700\">\n            Edit\n          </Button>\n        </CardHeader>\n        <CardContent className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          <div>\n            <p className=\"text-sm text-slate-500\">Date of Birth</p>\n            <p className=\"text-slate-900 font-semibold\">{studentData?.profile.dob || \"-\"}</p>\n          </div>\n          <div>\n            <p className=\"text-sm text-slate-500\">Phone</p>\n            <p className=\"text-slate-900 font-semibold\">{studentData?.profile.phone || \"-\"}</p>\n          </div>\n          <div>\n            <p className=\"text-sm text-slate-500\">Address</p>\n            <p className=\"text-slate-900 font-semibold\">{studentData?.profile.address || \"-\"}</p>\n          </div>\n          <div>\n            <p className=\"text-sm text-slate-500\">Parent Name</p>\n            <p className=\"text-slate-900 font-semibold\">{studentData?.profile.parentName || \"-\"}</p>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Academic section */}\n      <Card className=\"glass-sm border border-slate-200/80\">\n        <CardHeader className=\"flex flex-row items-center justify-between\">\n          <CardTitle className=\"text-slate-900\">Academic Details</CardTitle>\n          <Button size=\"sm\" onClick={() => setEditingSection(\"academic\")} className=\"bg-sky-600 hover:bg-sky-700\">\n            Edit\n          </Button>\n        </CardHeader>\n        <CardContent className=\"space-y-4\">\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            {studentData?.academics.subjects.slice(0, 6).map((subject) => (\n              <div key={subject.name} className=\"bg-slate-50 p-4 rounded-xl border border-slate-200\">\n                <p className=\"text-sm text-slate-600\">{subject.name}</p>\n                <p className=\"text-2xl font-bold text-sky-600\">{String(subject.score)}</p>\n              </div>\n            ))}\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Co-Curricular section */}\n      <Card className=\"glass-sm border border-slate-200/80\">\n        <CardHeader className=\"flex flex-row items-center justify-between\">\n          <CardTitle className=\"text-slate-900\">Co-Curricular Activities</CardTitle>\n          <Button size=\"sm\" onClick={() => setEditingSection(\"cocircular\")} className=\"bg-sky-600 hover:bg-sky-700\">\n            Edit\n          </Button>\n        </CardHeader>\n        <CardContent className=\"space-y-3\">\n          <div>\n            <p className=\"text-sm text-slate-600 mb-2\">\n              Categories: {studentData?.cocirculars.categories.length || 0}\n            </p>\n            <p className=\"text-sm text-slate-600\">\n              Entries: {studentData?.cocirculars.categories.reduce((sum, item) => sum + item.entries.length, 0) || 0}\n            </p>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Extra-Curricular section */}\n      <Card className=\"glass-sm border border-slate-200/80\">\n        <CardHeader className=\"flex flex-row items-center justify-between\">\n          <CardTitle className=\"text-slate-900\">Extra-Curricular Activities</CardTitle>\n          <Button\n            size=\"sm\"\n            onClick={() => setEditingSection(\"extracircular\")}\n            className=\"bg-sky-600 hover:bg-sky-700\"\n          >\n            Edit\n          </Button>\n        </CardHeader>\n        <CardContent className=\"space-y-3\">\n          <div>\n            <p className=\"text-sm text-slate-600 mb-2\">\n              Categories: {studentData?.ecirculars.categories.length || 0}\n            </p>\n            <p className=\"text-sm text-slate-600\">\n              Entries: {studentData?.ecirculars.categories.reduce((sum, item) => sum + item.entries.length, 0) || 0}\n            </p>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Online Platforms section */}\n      <Card className=\"glass-sm border border-slate-200/80\">\n        <CardHeader className=\"flex flex-row items-center justify-between\">\n          <CardTitle className=\"text-slate-900\">Online Platforms</CardTitle>\n          <Button size=\"sm\" onClick={() => setEditingSection(\"platforms\")} className=\"bg-sky-600 hover:bg-sky-700\">\n            Edit Usernames\n          </Button>\n        </CardHeader>\n        <CardContent>\n          <div className=\"space-y-3\">\n            {studentData?.profile.leetcode && studentData.profile.leetcode !== \"username_here\" ? (\n              <div className=\"bg-slate-50 border border-slate-200 rounded-lg p-3\">\n                <p className=\"text-sm font-semibold text-slate-700\">LeetCode</p>\n                <p className=\"text-xs text-slate-500\">@{studentData.profile.leetcode}</p>\n              </div>\n            ) : null}\n            {studentData?.profile.codeforces && studentData.profile.codeforces !== \"username_here\" ? (\n              <div className=\"bg-slate-50 border border-slate-200 rounded-lg p-3\">\n                <p className=\"text-sm font-semibold text-slate-700\">CodeForces</p>\n                <p className=\"text-xs text-slate-500\">@{studentData.profile.codeforces}</p>\n              </div>\n            ) : null}\n            {studentData?.profile.hackerrank && studentData.profile.hackerrank !== \"username_here\" ? (\n              <div className=\"bg-slate-50 border border-slate-200 rounded-lg p-3\">\n                <p className=\"text-sm font-semibold text-slate-700\">HackerRank</p>\n                <p className=\"text-xs text-slate-500\">@{studentData.profile.hackerrank}</p>\n              </div>\n            ) : null}\n            {studentData?.profile.codechef && studentData.profile.codechef !== \"username_here\" ? (\n              <div className=\"bg-slate-50 border border-slate-200 rounded-lg p-3\">\n                <p className=\"text-sm font-semibold text-slate-700\">CodeChef</p>\n                <p className=\"text-xs text-slate-500\">@{studentData.profile.codechef}</p>\n              </div>\n            ) : null}\n            {(!studentData?.profile.leetcode || studentData.profile.leetcode === \"username_here\") &&\n             (!studentData?.profile.codeforces || studentData.profile.codeforces === \"username_here\") &&\n             (!studentData?.profile.hackerrank || studentData.profile.hackerrank === \"username_here\") &&\n             (!studentData?.profile.codechef || studentData.profile.codechef === \"username_here\") ? (\n              <div className=\"text-sm text-slate-500\">\n                No platform usernames configured yet.\n              </div>\n            ) : null}\n          </div>\n        </CardContent>\n      </Card>\n\n      <OverallAnalysisSection studentId={studentId} />\n\n      {editingSection && editPayload && (\n        <StaffEditModal\n          section={editingSection}\n          studentData={editPayload}\n          studentId={studentId}\n          onClose={() => setEditingSection(null)}\n          onSaveSuccess={() => {\n            // Reload student data after successful save\n            window.location.reload();\n          }}\n        />\n      )}\n    </div>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 4335, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Tejab/Desktop/final_year_project/TRACKSHEET/UI/components/staff-dashboard.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { AnimatePresence, motion } from \"framer-motion\";\nimport { Button } from \"@/components/ui/button\";\nimport TopBar from \"./ui/TopBar\";\nimport StaffStudentSelector from \"./staff-student-selector\";\nimport StaffStudentDetails from \"./staff-student-details\";\n\ninterface StaffDashboardProps {\n  staffId: string;\n  onLogout: () => void;\n  userName?: string;\n  userEmail?: string;\n}\n\nexport default function StaffDashboard({\n  staffId,\n  onLogout,\n  userName = \"Staff Member\",\n  userEmail = \"staff@tracksheet.edu\",\n}: StaffDashboardProps) {\n  const [selectedStudent, setSelectedStudent] = useState<string | null>(null);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n\n  const handleSearch = (query: string) => {\n    setSearchQuery(query);\n  };\n\n\n\n  return (\n    <div className=\"h-screen flex flex-col bg-gradient-to-br from-slate-50 via-sky-50 to-white\">\n      {/* TopBar with integrated navigation */}\n      <TopBar\n        userName={userName}\n        userEmail={userEmail}\n        onSearch={handleSearch}\n        onLogout={onLogout}\n      />\n\n\n\n      {/* Content area with animated views */}\n      <div className=\"flex-1 overflow-auto\">\n        <AnimatePresence mode=\"wait\">\n          {selectedStudent === null ? (\n            <motion.div\n              key=\"selector\"\n              initial={{ opacity: 0, y: 12 }}\n              animate={{ opacity: 1, y: 0 }}\n              exit={{ opacity: 0, y: -8 }}\n              transition={{\n                duration: 0.28,\n                ease: [0.19, 0.79, 0.29, 1],\n              }}\n              className=\"p-8 will-change-transform\"\n              style={{ backfaceVisibility: \"hidden\" }}\n            >\n              <StaffStudentSelector \n                onSelectStudent={setSelectedStudent}\n                searchQuery={searchQuery}\n              />\n            </motion.div>\n          ) : (\n            <motion.div\n              key=\"details\"\n              initial={{ opacity: 0, y: 12, scale: 0.98 }}\n              animate={{ opacity: 1, y: 0, scale: 1 }}\n              exit={{ opacity: 0, y: -8, scale: 0.98 }}\n              transition={{\n                duration: 0.3,\n                ease: [0.16, 0.84, 0.44, 1],\n              }}\n              className=\"p-8 will-change-transform\"\n              style={{ backfaceVisibility: \"hidden\" }}\n            >\n              <Button\n                onClick={() => setSelectedStudent(null)}\n                className=\"mb-4 rounded-full bg-sky-500 text-white hover:bg-sky-600\"\n              >\n                â† Back to Search\n              </Button>\n              <StaffStudentDetails studentId={selectedStudent} />\n            </motion.div>\n          )}\n        </AnimatePresence>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;;;AAPA;;;;;;;AAgBe,SAAS,eAAe,EACrC,OAAO,EACP,QAAQ,EACR,WAAW,cAAc,EACzB,YAAY,sBAAsB,EACd;;IACpB,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,yKAAQ,EAAgB;IACtE,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAC;IAE/C,MAAM,eAAe,CAAC;QACpB,eAAe;IACjB;IAIA,qBACE,6LAAC;QAAI,WAAU;;0BAEb,6LAAC,yIAAM;gBACL,UAAU;gBACV,WAAW;gBACX,UAAU;gBACV,UAAU;;;;;;0BAMZ,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC,+MAAe;oBAAC,MAAK;8BACnB,oBAAoB,qBACnB,6LAAC,uMAAM,CAAC,GAAG;wBAET,SAAS;4BAAE,SAAS;4BAAG,GAAG;wBAAG;wBAC7B,SAAS;4BAAE,SAAS;4BAAG,GAAG;wBAAE;wBAC5B,MAAM;4BAAE,SAAS;4BAAG,GAAG,CAAC;wBAAE;wBAC1B,YAAY;4BACV,UAAU;4BACV,MAAM;gCAAC;gCAAM;gCAAM;gCAAM;6BAAE;wBAC7B;wBACA,WAAU;wBACV,OAAO;4BAAE,oBAAoB;wBAAS;kCAEtC,cAAA,6LAAC,yJAAoB;4BACnB,iBAAiB;4BACjB,aAAa;;;;;;uBAbX;;;;6CAiBN,6LAAC,uMAAM,CAAC,GAAG;wBAET,SAAS;4BAAE,SAAS;4BAAG,GAAG;4BAAI,OAAO;wBAAK;wBAC1C,SAAS;4BAAE,SAAS;4BAAG,GAAG;4BAAG,OAAO;wBAAE;wBACtC,MAAM;4BAAE,SAAS;4BAAG,GAAG,CAAC;4BAAG,OAAO;wBAAK;wBACvC,YAAY;4BACV,UAAU;4BACV,MAAM;gCAAC;gCAAM;gCAAM;gCAAM;6BAAE;wBAC7B;wBACA,WAAU;wBACV,OAAO;4BAAE,oBAAoB;wBAAS;;0CAEtC,6LAAC,wIAAM;gCACL,SAAS,IAAM,mBAAmB;gCAClC,WAAU;0CACX;;;;;;0CAGD,6LAAC,wJAAmB;gCAAC,WAAW;;;;;;;uBAjB5B;;;;;;;;;;;;;;;;;;;;;AAwBlB;GA1EwB;KAAA","debugId":null}},
    {"offset": {"line": 4498, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Tejab/Desktop/final_year_project/TRACKSHEET/UI/app/staff/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport StaffDashboard from \"@/components/staff-dashboard\";\r\n\r\nexport default function StaffPage() {\r\n  const router = useRouter();\r\n  const [user, setUser] = useState<{\r\n    staffId: string;\r\n    email: string;\r\n  } | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    // Verify authentication and role\r\n    fetch(\"/api/me\", { credentials: \"include\" })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        if (!data.userId || data.role !== \"staff\") {\r\n          // Not authenticated or wrong role\r\n          router.replace(\"/login\");\r\n          return;\r\n        }\r\n        setUser({\r\n          staffId: data.staffId || \"\",\r\n          email: data.email || \"\",\r\n        });\r\n        setLoading(false);\r\n      })\r\n      .catch(() => {\r\n        router.replace(\"/login\");\r\n      });\r\n  }, [router]);\r\n\r\n  const handleLogout = async () => {\r\n    await fetch(\"/api/auth/logout\", { method: \"POST\", credentials: \"include\" });\r\n    router.push(\"/login\");\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-50 to-slate-100\">\r\n        <div className=\"text-slate-600\">Loading...</div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!user) return null;\r\n\r\n  return (\r\n    <StaffDashboard\r\n      staffId={user.staffId}\r\n      userEmail={user.email}\r\n      onLogout={handleLogout}\r\n    />\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;;;AAJA;;;;AAMe,SAAS;;IACtB,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAGtB;IACV,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IAEvC,IAAA,0KAAS;+BAAC;YACR,iCAAiC;YACjC,MAAM,WAAW;gBAAE,aAAa;YAAU,GACvC,IAAI;uCAAC,CAAC,MAAQ,IAAI,IAAI;sCACtB,IAAI;uCAAC,CAAC;oBACL,IAAI,CAAC,KAAK,MAAM,IAAI,KAAK,IAAI,KAAK,SAAS;wBACzC,kCAAkC;wBAClC,OAAO,OAAO,CAAC;wBACf;oBACF;oBACA,QAAQ;wBACN,SAAS,KAAK,OAAO,IAAI;wBACzB,OAAO,KAAK,KAAK,IAAI;oBACvB;oBACA,WAAW;gBACb;sCACC,KAAK;uCAAC;oBACL,OAAO,OAAO,CAAC;gBACjB;;QACJ;8BAAG;QAAC;KAAO;IAEX,MAAM,eAAe;QACnB,MAAM,MAAM,oBAAoB;YAAE,QAAQ;YAAQ,aAAa;QAAU;QACzE,OAAO,IAAI,CAAC;IACd;IAEA,IAAI,SAAS;QACX,qBACE,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAI,WAAU;0BAAiB;;;;;;;;;;;IAGtC;IAEA,IAAI,CAAC,MAAM,OAAO;IAElB,qBACE,6LAAC,+IAAc;QACb,SAAS,KAAK,OAAO;QACrB,WAAW,KAAK,KAAK;QACrB,UAAU;;;;;;AAGhB;GAnDwB;;QACP,kJAAS;;;KADF","debugId":null}}]
}
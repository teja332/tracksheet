{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Tejab/Desktop/final_year_project/TRACKSHEET/UI/app/api/platforms/hackerrank/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from \"next/server\";\r\n\r\nexport async function GET(request: NextRequest) {\r\n  const { searchParams } = new URL(request.url);\r\n  const username = searchParams.get(\"username\");\r\n\r\n  if (!username || username === \"username_here\") {\r\n    return NextResponse.json({\r\n      error: \"No username configured\",\r\n      username: null,\r\n      problemsSolved: 0,\r\n      rating: 0,\r\n      rank: 0,\r\n    });\r\n  }\r\n\r\n  try {\r\n    // HackerRank API endpoint\r\n    const response = await fetch(\r\n      `https://www.hackerrank.com/rest/hackers/${username}/profile`\r\n    );\r\n\r\n    if (!response.ok) {\r\n      // User not found or API error\r\n      return NextResponse.json({\r\n        error: \"User not found\",\r\n        username,\r\n        problemsSolved: 0,\r\n        rating: 0,\r\n        rank: 0,\r\n      });\r\n    }\r\n\r\n    const data = await response.json();\r\n\r\n    if (!data || !data.model) {\r\n      return NextResponse.json({\r\n        error: \"Invalid response\",\r\n        username,\r\n        problemsSolved: 0,\r\n        rating: 0,\r\n        rank: 0,\r\n      });\r\n    }\r\n\r\n    const profile = data.model;\r\n    const stats = data.model.hacker_badges || {};\r\n\r\n    // Extract badge counts for solved problems\r\n    const problemsSolved =\r\n      profile.solve_count || profile.solved || profile.problems_solved || 0;\r\n\r\n    return NextResponse.json({\r\n      username: profile.username || username,\r\n      problemsSolved,\r\n      rating: profile.rating || 0,\r\n      rank: profile.rank || 0,\r\n      country: profile.country || null,\r\n      avatar: profile.avatar || null,\r\n      badges: stats,\r\n    });\r\n  } catch (error) {\r\n    console.error(\"HackerRank API error:\", error);\r\n    return NextResponse.json(\r\n      {\r\n        error: \"Failed to fetch HackerRank data\",\r\n        username,\r\n        problemsSolved: 0,\r\n        rating: 0,\r\n        rank: 0,\r\n      },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;;AAEO,eAAe,IAAI,OAAoB;IAC5C,MAAM,EAAE,YAAY,EAAE,GAAG,IAAI,IAAI,QAAQ,GAAG;IAC5C,MAAM,WAAW,aAAa,GAAG,CAAC;IAElC,IAAI,CAAC,YAAY,aAAa,iBAAiB;QAC7C,OAAO,gJAAY,CAAC,IAAI,CAAC;YACvB,OAAO;YACP,UAAU;YACV,gBAAgB;YAChB,QAAQ;YACR,MAAM;QACR;IACF;IAEA,IAAI;QACF,0BAA0B;QAC1B,MAAM,WAAW,MAAM,MACrB,CAAC,wCAAwC,EAAE,SAAS,QAAQ,CAAC;QAG/D,IAAI,CAAC,SAAS,EAAE,EAAE;YAChB,8BAA8B;YAC9B,OAAO,gJAAY,CAAC,IAAI,CAAC;gBACvB,OAAO;gBACP;gBACA,gBAAgB;gBAChB,QAAQ;gBACR,MAAM;YACR;QACF;QAEA,MAAM,OAAO,MAAM,SAAS,IAAI;QAEhC,IAAI,CAAC,QAAQ,CAAC,KAAK,KAAK,EAAE;YACxB,OAAO,gJAAY,CAAC,IAAI,CAAC;gBACvB,OAAO;gBACP;gBACA,gBAAgB;gBAChB,QAAQ;gBACR,MAAM;YACR;QACF;QAEA,MAAM,UAAU,KAAK,KAAK;QAC1B,MAAM,QAAQ,KAAK,KAAK,CAAC,aAAa,IAAI,CAAC;QAE3C,2CAA2C;QAC3C,MAAM,iBACJ,QAAQ,WAAW,IAAI,QAAQ,MAAM,IAAI,QAAQ,eAAe,IAAI;QAEtE,OAAO,gJAAY,CAAC,IAAI,CAAC;YACvB,UAAU,QAAQ,QAAQ,IAAI;YAC9B;YACA,QAAQ,QAAQ,MAAM,IAAI;YAC1B,MAAM,QAAQ,IAAI,IAAI;YACtB,SAAS,QAAQ,OAAO,IAAI;YAC5B,QAAQ,QAAQ,MAAM,IAAI;YAC1B,QAAQ;QACV;IACF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,yBAAyB;QACvC,OAAO,gJAAY,CAAC,IAAI,CACtB;YACE,OAAO;YACP;YACA,gBAAgB;YAChB,QAAQ;YACR,MAAM;QACR,GACA;YAAE,QAAQ;QAAI;IAElB;AACF","debugId":null}}]
}
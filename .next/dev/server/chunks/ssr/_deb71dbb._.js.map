{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Tejab/Desktop/final_year_project/TRACKSHEET/UI/components/ui/button.tsx"],"sourcesContent":["import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default: 'bg-primary text-primary-foreground hover:bg-primary/90',\n        destructive:\n          'bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\n        outline:\n          'border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50',\n        secondary:\n          'bg-secondary text-secondary-foreground hover:bg-secondary/80',\n        ghost:\n          'hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50',\n        link: 'text-primary underline-offset-4 hover:underline',\n      },\n      size: {\n        default: 'h-9 px-4 py-2 has-[>svg]:px-3',\n        sm: 'h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5',\n        lg: 'h-10 rounded-md px-6 has-[>svg]:px-4',\n        icon: 'size-9',\n        'icon-sm': 'size-8',\n        'icon-lg': 'size-10',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n      size: 'default',\n    },\n  },\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'button'> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : 'button'\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,uKAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,wKAAI,GAAG;IAE9B,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 63, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Tejab/Desktop/final_year_project/TRACKSHEET/UI/components/NotificationCenter.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport React, { useState } from \"react\"\r\nimport { motion, AnimatePresence } from \"framer-motion\"\r\nimport { useNotifications } from \"@/contexts/NotificationContext\"\r\nimport { X, CheckCircle, AlertCircle, Info, AlertTriangle, Trash2 } from \"lucide-react\"\r\nimport { Button } from \"@/components/ui/button\"\r\n\r\nexport default function NotificationCenter() {\r\n  const { notifications, removeNotification, clearNotifications } = useNotifications()\r\n  const [isOpen, setIsOpen] = useState(false)\r\n\r\n  const getIcon = (type: string) => {\r\n    switch (type) {\r\n      case \"success\":\r\n        return <CheckCircle className=\"w-5 h-5 text-green-600\" />\r\n      case \"error\":\r\n        return <AlertCircle className=\"w-5 h-5 text-red-600\" />\r\n      case \"warning\":\r\n        return <AlertTriangle className=\"w-5 h-5 text-yellow-600\" />\r\n      case \"info\":\r\n      default:\r\n        return <Info className=\"w-5 h-5 text-blue-600\" />\r\n    }\r\n  }\r\n\r\n  const getTypeColor = (type: string) => {\r\n    switch (type) {\r\n      case \"success\":\r\n        return \"bg-green-50 border-green-200\"\r\n      case \"error\":\r\n        return \"bg-red-50 border-red-200\"\r\n      case \"warning\":\r\n        return \"bg-yellow-50 border-yellow-200\"\r\n      case \"info\":\r\n      default:\r\n        return \"bg-blue-50 border-blue-200\"\r\n    }\r\n  }\r\n\r\n  const formatTime = (date: Date) => {\r\n    const now = new Date()\r\n    const diff = now.getTime() - date.getTime()\r\n    const minutes = Math.floor(diff / 60000)\r\n    const hours = Math.floor(diff / 3600000)\r\n    const days = Math.floor(diff / 86400000)\r\n\r\n    if (minutes < 1) return \"just now\"\r\n    if (minutes < 60) return `${minutes}m ago`\r\n    if (hours < 24) return `${hours}h ago`\r\n    if (days < 7) return `${days}d ago`\r\n    return date.toLocaleDateString()\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {/* Notification Button */}\r\n      <button\r\n        onClick={() => setIsOpen(!isOpen)}\r\n        className=\"p-3 hover:bg-slate-100 rounded-lg transition-colors relative\"\r\n        title=\"Notifications\"\r\n        aria-label=\"Notifications\"\r\n      >\r\n        <svg\r\n          className=\"w-7 h-7 text-slate-600\"\r\n          fill=\"none\"\r\n          stroke=\"currentColor\"\r\n          viewBox=\"0 0 24 24\"\r\n        >\r\n          <path\r\n            strokeLinecap=\"round\"\r\n            strokeLinejoin=\"round\"\r\n            strokeWidth={2}\r\n            d=\"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9\"\r\n          />\r\n        </svg>\r\n        {notifications.length > 0 && (\r\n          <span className=\"absolute top-0 right-0 w-6 h-6 bg-rose-500 rounded-full flex items-center justify-center text-white text-xs font-bold\">\r\n            {notifications.length > 9 ? \"9+\" : notifications.length}\r\n          </span>\r\n        )}\r\n      </button>\r\n\r\n      {/* Notification Center Modal */}\r\n      <AnimatePresence>\r\n        {isOpen && (\r\n          <>\r\n            {/* Overlay */}\r\n            <motion.div\r\n              initial={{ opacity: 0 }}\r\n              animate={{ opacity: 1 }}\r\n              exit={{ opacity: 0 }}\r\n              onClick={() => setIsOpen(false)}\r\n              className=\"fixed inset-0 z-40 bg-black/20\"\r\n            />\r\n\r\n            {/* Notification Panel */}\r\n            <motion.div\r\n              initial={{ opacity: 0, x: 400 }}\r\n              animate={{ opacity: 1, x: 0 }}\r\n              exit={{ opacity: 0, x: 400 }}\r\n              transition={{ duration: 0.3 }}\r\n              className=\"fixed right-0 top-0 z-50 h-screen w-full max-w-md bg-white border-l border-slate-200 shadow-lg flex flex-col\"\r\n            >\r\n              {/* Header */}\r\n              <div className=\"flex items-center justify-between p-4 border-b border-slate-200\">\r\n                <h2 className=\"text-lg font-semibold text-slate-900\">\r\n                  Activity Center ({notifications.length})\r\n                </h2>\r\n                <button\r\n                  onClick={() => setIsOpen(false)}\r\n                  className=\"p-1 hover:bg-slate-100 rounded-lg transition-colors\"\r\n                  aria-label=\"Close\"\r\n                >\r\n                  <X className=\"w-5 h-5 text-slate-600\" />\r\n                </button>\r\n              </div>\r\n\r\n              {/* Content */}\r\n              <div className=\"flex-1 overflow-y-auto\">\r\n                {notifications.length === 0 ? (\r\n                  <div className=\"flex items-center justify-center h-full text-slate-500\">\r\n                    <div className=\"text-center\">\r\n                      <Info className=\"w-12 h-12 mx-auto mb-3 text-slate-300\" />\r\n                      <p>No notifications yet</p>\r\n                    </div>\r\n                  </div>\r\n                ) : (\r\n                  <div className=\"space-y-2 p-4\">\r\n                    <AnimatePresence>\r\n                      {notifications.map((notification) => (\r\n                        <motion.div\r\n                          key={notification.id}\r\n                          initial={{ opacity: 0, x: 20 }}\r\n                          animate={{ opacity: 1, x: 0 }}\r\n                          exit={{ opacity: 0, x: 20 }}\r\n                          className={`p-3 rounded-lg border ${getTypeColor(notification.type)} flex gap-3`}\r\n                        >\r\n                          <div className=\"flex-shrink-0 mt-0.5\">{getIcon(notification.type)}</div>\r\n                          <div className=\"flex-1 min-w-0\">\r\n                            <p className=\"font-semibold text-sm text-slate-900\">\r\n                              {notification.title}\r\n                            </p>\r\n                            <p className=\"text-sm text-slate-600 line-clamp-2\">\r\n                              {notification.message}\r\n                            </p>\r\n                            <p className=\"text-xs text-slate-500 mt-1\">\r\n                              {formatTime(notification.timestamp)}\r\n                            </p>\r\n                          </div>\r\n                          <button\r\n                            onClick={() => removeNotification(notification.id)}\r\n                            className=\"flex-shrink-0 p-1 hover:bg-slate-200 rounded transition-colors\"\r\n                            aria-label=\"Remove\"\r\n                          >\r\n                            <X className=\"w-4 h-4 text-slate-500\" />\r\n                          </button>\r\n                        </motion.div>\r\n                      ))}\r\n                    </AnimatePresence>\r\n                  </div>\r\n                )}\r\n              </div>\r\n\r\n              {/* Footer */}\r\n              {notifications.length > 0 && (\r\n                <div className=\"border-t border-slate-200 p-4\">\r\n                  <Button\r\n                    onClick={clearNotifications}\r\n                    variant=\"outline\"\r\n                    className=\"w-full text-sm\"\r\n                  >\r\n                    <Trash2 className=\"w-4 h-4 mr-2\" />\r\n                    Clear All\r\n                  </Button>\r\n                </div>\r\n              )}\r\n            </motion.div>\r\n          </>\r\n        )}\r\n      </AnimatePresence>\r\n    </>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 441, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Tejab/Desktop/final_year_project/TRACKSHEET/UI/components/ui/TopBar.tsx"],"sourcesContent":["\"use client\";\r\nimport React, { useState, useRef, useEffect } from \"react\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport Image from \"next/image\";\r\nimport NotificationCenter from \"@/components/NotificationCenter\";\r\n\r\nexport default function TopBar({\r\n  onSearch,\r\n  userName = \"Student\",\r\n  userEmail = \"student@tracksheet.com\",\r\n  onLogout,\r\n  onProfileClick,\r\n  onSettingsClick,\r\n  onDashboardClick,\r\n}: {\r\n  onSearch?: (q: string) => void;\r\n  userName?: string;\r\n  userEmail?: string;\r\n  onLogout?: () => void;\r\n  onProfileClick?: () => void;\r\n  onSettingsClick?: () => void;\r\n  onDashboardClick?: () => void;\r\n}) {\r\n  const [q, setQ] = useState(\"\");\r\n  const [open, setOpen] = useState(false);\r\n  const menuRef = useRef<HTMLDivElement | null>(null);\r\n  const avatarRef = useRef<HTMLButtonElement | null>(null);\r\n\r\n  useEffect(() => {\r\n    function onDoc(e: MouseEvent) {\r\n      if (!menuRef.current) return;\r\n      if (\r\n        menuRef.current.contains(e.target as Node) ||\r\n        (avatarRef.current && avatarRef.current.contains(e.target as Node))\r\n      )\r\n        return;\r\n      setOpen(false);\r\n    }\r\n    document.addEventListener(\"mousedown\", onDoc);\r\n    return () => document.removeEventListener(\"mousedown\", onDoc);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    function onKey(e: KeyboardEvent) {\r\n      if (e.key === \"Escape\") setOpen(false);\r\n    }\r\n    document.addEventListener(\"keydown\", onKey);\r\n    return () => document.removeEventListener(\"keydown\", onKey);\r\n  }, []);\r\n\r\n  const submit = (ev?: React.FormEvent) => {\r\n    ev?.preventDefault();\r\n    if (onSearch) onSearch(q.trim());\r\n  };\r\n\r\n  const menuVariants = {\r\n    hidden: { opacity: 0, y: -6, scale: 0.98 },\r\n    show: { opacity: 1, y: 0, scale: 1 },\r\n  };\r\n\r\n  return (\r\n    <header\r\n      className=\"sticky top-0 z-50 backdrop-blur-md bg-white/75 border-b border-slate-200/50\"\r\n      role=\"banner\"\r\n      aria-label=\"Top navigation\"\r\n    >\r\n      <div className=\"flex gap-3 items-center justify-between px-4 md:px-6 py-3 max-w-[1400px] mx-auto\">\r\n        <div className=\"font-bold text-3xl md:text-4xl gradient-text tracking-wider flex items-center gap-2\">\r\n          <div className=\"w-10 h-10 md:w-12 md:h-12 flex-shrink-0\">\r\n            <Image\r\n              src=\"/tracksheet-logo.svg\"\r\n              alt=\"TRACKSHEET Logo\"\r\n              width={48}\r\n              height={48}\r\n              className=\"w-full h-full\"\r\n              priority\r\n            />\r\n          </div>\r\n          <span className=\"hidden sm:inline\">TRACKSHEET</span>\r\n          <span className=\"sm:hidden\">TS</span>\r\n        </div>\r\n\r\n        <form\r\n          className=\"flex items-center gap-2 flex-1 max-w-xl mx-4\"\r\n          role=\"search\"\r\n          onSubmit={submit}\r\n        >\r\n          <label htmlFor=\"top-search\" className=\"sr-only\">\r\n            Search\r\n          </label>\r\n          <input\r\n            id=\"top-search\"\r\n            name=\"q\"\r\n            placeholder=\"Search assignments, students...\"\r\n            className=\"flex-1 min-w-0 px-3 py-2 rounded-xl border border-slate-200 bg-white/80 text-slate-900 text-sm outline-none focus:border-sky-300 focus:ring-2 focus:ring-sky-200 transition-all\"\r\n            value={q}\r\n            onChange={(e) => setQ(e.target.value)}\r\n            onKeyDown={(e) => {\r\n              if (e.key === \"Enter\") submit();\r\n            }}\r\n            aria-label=\"Search\"\r\n            autoComplete=\"off\"\r\n          />\r\n          <button\r\n            type=\"submit\"\r\n            aria-label=\"Search\"\r\n            className=\"p-2 hover:bg-slate-100 rounded-lg transition-colors\"\r\n          >\r\n            <svg\r\n              className=\"w-5 h-5 text-slate-600\"\r\n              fill=\"none\"\r\n              stroke=\"currentColor\"\r\n              viewBox=\"0 0 24 24\"\r\n            >\r\n              <path\r\n                strokeLinecap=\"round\"\r\n                strokeLinejoin=\"round\"\r\n                strokeWidth={2}\r\n                d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\"\r\n              />\r\n            </svg>\r\n          </button>\r\n        </form>\r\n\r\n        <div className=\"flex gap-2 items-center\">\r\n          <NotificationCenter />\r\n\r\n          <div className=\"relative\">\r\n            <button\r\n              ref={avatarRef}\r\n              className=\"flex items-center gap-2 p-1 pr-3 rounded-xl hover:bg-slate-100 transition-all\"\r\n              aria-haspopup=\"true\"\r\n              aria-expanded={open}\r\n              aria-controls=\"avatar-menu\"\r\n              onClick={() => setOpen((s) => !s)}\r\n            >\r\n              <div className=\"w-9 h-9 rounded-xl bg-gradient-to-br from-sky-400 to-indigo-500 flex items-center justify-center text-white font-semibold text-sm\">\r\n                {userName.charAt(0).toUpperCase()}\r\n              </div>\r\n              <svg\r\n                className={`w-4 h-4 text-slate-600 transition-transform ${\r\n                  open ? \"rotate-180\" : \"\"\r\n                }`}\r\n                fill=\"none\"\r\n                stroke=\"currentColor\"\r\n                viewBox=\"0 0 24 24\"\r\n              >\r\n                <path\r\n                  strokeLinecap=\"round\"\r\n                  strokeLinejoin=\"round\"\r\n                  strokeWidth={2}\r\n                  d=\"M19 9l-7 7-7-7\"\r\n                />\r\n              </svg>\r\n            </button>\r\n\r\n            <AnimatePresence>\r\n              {open && (\r\n                <motion.div\r\n                  id=\"avatar-menu\"\r\n                  ref={menuRef}\r\n                  className=\"absolute right-0 top-full mt-2 min-w-[220px] glass-sm border border-slate-200/80 rounded-xl p-2 shadow-lg\"\r\n                  initial=\"hidden\"\r\n                  animate=\"show\"\r\n                  exit=\"hidden\"\r\n                  variants={menuVariants}\r\n                  transition={{ duration: 0.22 }}\r\n                  role=\"menu\"\r\n                  aria-label=\"Profile menu\"\r\n                >\r\n                  <div className=\"px-3 py-2 border-b border-slate-200/80 mb-2\">\r\n                    <p className=\"font-semibold text-slate-900 text-sm\">\r\n                      {userName}\r\n                    </p>\r\n                    <p className=\"text-xs text-slate-500\">{userEmail}</p>\r\n                  </div>\r\n\r\n                  <div className=\"border-t border-slate-200/80 mt-2 pt-2\">\r\n                    <button\r\n                      role=\"menuitem\"\r\n                      onClick={() => {\r\n                        setOpen(false);\r\n                        onLogout?.();\r\n                      }}\r\n                      className=\"w-full text-left px-3 py-2 rounded-lg hover:bg-rose-50 text-sm text-rose-600 font-medium transition-colors\"\r\n                    >\r\n                      ðŸšª Sign out\r\n                    </button>\r\n                  </div>\r\n                </motion.div>\r\n              )}\r\n            </AnimatePresence>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 763, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Tejab/Desktop/final_year_project/TRACKSHEET/UI/components/ui/card.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Card({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        'bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        '@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn('leading-none font-semibold', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn('text-muted-foreground text-sm', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        'col-start-2 row-span-2 row-start-1 self-start justify-self-end',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn('px-6', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn('flex items-center px-6 [.border-t]:pt-6', className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,4JACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 865, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Tejab/Desktop/final_year_project/TRACKSHEET/UI/components/ui/input.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Input({ className, type, ...props }: React.ComponentProps<'input'>) {\n  return (\n    <input\n      type={type}\n      data-slot=\"input\"\n      className={cn(\n        'file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',\n        'focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]',\n        'aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Input }\n"],"names":[],"mappings":";;;;;AAEA;;;AAEA,SAAS,MAAM,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAsC;IACzE,qBACE,8OAAC;QACC,MAAM;QACN,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,8bACA,iFACA,0GACA;QAED,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 890, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Tejab/Desktop/final_year_project/TRACKSHEET/UI/components/add-student-modal.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState } from \"react\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Input } from \"@/components/ui/input\"\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\r\nimport { X } from \"lucide-react\"\r\nimport { useNotifications } from \"@/contexts/NotificationContext\"\r\n\r\ninterface AddStudentModalProps {\r\n  onClose: () => void\r\n  onSuccess: () => void\r\n}\r\n\r\nexport default function AddStudentModal({ onClose, onSuccess }: AddStudentModalProps) {\r\n  const { addNotification } = useNotifications()\r\n  const [isSubmitting, setIsSubmitting] = useState(false)\r\n  const [formData, setFormData] = useState({\r\n    // Profile fields\r\n    fullName: \"\",\r\n    rollNumber: \"\",\r\n    email: \"\",\r\n    phone: \"\",\r\n    dob: \"\",\r\n    address: \"\",\r\n    year: \"\",\r\n    branch: \"\",\r\n    section: \"\",\r\n    parentName: \"\",\r\n    parentPhone: \"\",\r\n    leetcode: \"\",\r\n    codeforces: \"\",\r\n    hackerrank: \"\",\r\n    codechef: \"\",\r\n  })\r\n\r\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const { name, value } = e.target\r\n    setFormData((prev) => ({ ...prev, [name]: value }))\r\n  }\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault()\r\n\r\n    if (!formData.fullName || !formData.rollNumber || !formData.email) {\r\n      addNotification({\r\n        type: \"error\",\r\n        title: \"Missing Required Fields\",\r\n        message: \"Please fill in required fields (Name, Roll Number, Email)\",\r\n        action: undefined,\r\n      })\r\n      return\r\n    }\r\n\r\n    setIsSubmitting(true)\r\n    try {\r\n      const response = await fetch(\"/api/student/add\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        credentials: \"include\",\r\n        body: JSON.stringify(formData),\r\n      })\r\n\r\n      if (!response.ok) {\r\n        const error = await response.json().catch(() => ({}))\r\n        throw new Error(error.error || \"Failed to add student\")\r\n      }\r\n\r\n      const data = await response.json()\r\n\r\n      // Add to notification center with overlay\r\n      addNotification({\r\n        type: \"success\",\r\n        title: \"Student Added Successfully\",\r\n        message: `${formData.fullName} (${formData.rollNumber}) has been added to the system`,\r\n        action: undefined,\r\n      })\r\n\r\n      onSuccess()\r\n    } catch (err) {\r\n      const errorMessage = err instanceof Error ? err.message : \"Failed to add student\"\r\n      \r\n      // Add error to notification center\r\n      addNotification({\r\n        type: \"error\",\r\n        title: \"Failed to Add Student\",\r\n        message: errorMessage,\r\n        action: undefined,\r\n      })\r\n    } finally {\r\n      setIsSubmitting(false)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div\r\n      onClick={onClose}\r\n      style={{\r\n        position: \"fixed\",\r\n        top: 0,\r\n        left: 0,\r\n        right: 0,\r\n        bottom: 0,\r\n        backgroundColor: \"rgba(15, 23, 42, 0.3)\",\r\n        backdropFilter: \"blur(6px)\",\r\n        zIndex: 9999,\r\n        overflow: \"auto\",\r\n      }}\r\n    >\r\n      <div className=\"flex items-center justify-center min-h-screen p-4\">\r\n        <Card\r\n          onClick={(e) => e.stopPropagation()}\r\n          style={{\r\n            position: \"relative\",\r\n            width: \"100%\",\r\n            maxWidth: \"600px\",\r\n            borderRadius: \"var(--radius-xl)\",\r\n            backgroundColor: \"var(--card)\",\r\n            borderColor: \"var(--border)\",\r\n            boxShadow: \"0 25px 50px -12px rgba(0, 0, 0, 0.25)\",\r\n          }}\r\n          className=\"glass-lg\"\r\n        >\r\n          <CardHeader className=\"flex flex-row items-center justify-between border-b border-slate-200/80 pb-4\">\r\n            <CardTitle style={{ color: \"var(--foreground)\", fontSize: \"18px\", fontWeight: 600 }}>\r\n              Add Student\r\n            </CardTitle>\r\n            <Button\r\n              variant=\"ghost\"\r\n              size=\"icon\"\r\n              onClick={onClose}\r\n              style={{\r\n                borderRadius: \"50%\",\r\n                color: \"var(--muted-foreground)\",\r\n                padding: \"8px\",\r\n              }}\r\n            >\r\n              <X size={20} />\r\n            </Button>\r\n          </CardHeader>\r\n\r\n          <CardContent className=\"pt-6\">\r\n            <div className=\"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg\">\r\n              <p className=\"text-sm text-blue-700\">\r\n                <span className=\"font-semibold\">Login Credentials:</span> A user account will be created automatically with the email as username and password.\r\n              </p>\r\n            </div>\r\n            <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n              {/* Profile Information */}\r\n              <div>\r\n                <h3 className=\"text-sm font-semibold text-slate-900 mb-4\">Profile Information</h3>\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6\">\r\n                  <div>\r\n                    <label className=\"text-sm font-medium text-slate-700 block mb-1\">\r\n                      Full Name *\r\n                    </label>\r\n                    <Input\r\n                      type=\"text\"\r\n                      name=\"fullName\"\r\n                      placeholder=\"John Doe\"\r\n                      value={formData.fullName}\r\n                      onChange={handleInputChange}\r\n                      required\r\n                      className=\"bg-slate-50 border-slate-200\"\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"text-sm font-medium text-slate-700 block mb-1\">\r\n                      Roll Number *\r\n                    </label>\r\n                    <Input\r\n                      type=\"text\"\r\n                      name=\"rollNumber\"\r\n                      placeholder=\"CSE24001\"\r\n                      value={formData.rollNumber}\r\n                      onChange={handleInputChange}\r\n                      required\r\n                      className=\"bg-slate-50 border-slate-200\"\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"text-sm font-medium text-slate-700 block mb-1\">\r\n                      Email *\r\n                    </label>\r\n                    <Input\r\n                      type=\"email\"\r\n                      name=\"email\"\r\n                      placeholder=\"john@example.com\"\r\n                      value={formData.email}\r\n                      onChange={handleInputChange}\r\n                      required\r\n                      className=\"bg-slate-50 border-slate-200\"\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"text-sm font-medium text-slate-700 block mb-1\">\r\n                      Phone\r\n                    </label>\r\n                    <Input\r\n                      type=\"tel\"\r\n                      name=\"phone\"\r\n                      placeholder=\"9876543210\"\r\n                      value={formData.phone}\r\n                      onChange={handleInputChange}\r\n                      className=\"bg-slate-50 border-slate-200\"\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"text-sm font-medium text-slate-700 block mb-1\">\r\n                      Date of Birth\r\n                    </label>\r\n                    <Input\r\n                      type=\"date\"\r\n                      name=\"dob\"\r\n                      value={formData.dob}\r\n                      onChange={handleInputChange}\r\n                      className=\"bg-slate-50 border-slate-200\"\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"text-sm font-medium text-slate-700 block mb-1\">\r\n                      Address\r\n                    </label>\r\n                    <Input\r\n                      type=\"text\"\r\n                      name=\"address\"\r\n                      placeholder=\"123 Main St\"\r\n                      value={formData.address}\r\n                      onChange={handleInputChange}\r\n                      className=\"bg-slate-50 border-slate-200\"\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"text-sm font-medium text-slate-700 block mb-1\">\r\n                      Year\r\n                    </label>\r\n                    <Input\r\n                      type=\"text\"\r\n                      name=\"year\"\r\n                      placeholder=\"1\"\r\n                      value={formData.year}\r\n                      onChange={handleInputChange}\r\n                      className=\"bg-slate-50 border-slate-200\"\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"text-sm font-medium text-slate-700 block mb-1\">\r\n                      Branch\r\n                    </label>\r\n                    <Input\r\n                      type=\"text\"\r\n                      name=\"branch\"\r\n                      placeholder=\"CSE\"\r\n                      value={formData.branch}\r\n                      onChange={handleInputChange}\r\n                      className=\"bg-slate-50 border-slate-200\"\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"text-sm font-medium text-slate-700 block mb-1\">\r\n                      Section\r\n                    </label>\r\n                    <Input\r\n                      type=\"text\"\r\n                      name=\"section\"\r\n                      placeholder=\"A\"\r\n                      value={formData.section}\r\n                      onChange={handleInputChange}\r\n                      className=\"bg-slate-50 border-slate-200\"\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"text-sm font-medium text-slate-700 block mb-1\">\r\n                      Parent Name\r\n                    </label>\r\n                    <Input\r\n                      type=\"text\"\r\n                      name=\"parentName\"\r\n                      placeholder=\"Jane Doe\"\r\n                      value={formData.parentName}\r\n                      onChange={handleInputChange}\r\n                      className=\"bg-slate-50 border-slate-200\"\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"text-sm font-medium text-slate-700 block mb-1\">\r\n                      Parent Phone\r\n                    </label>\r\n                    <Input\r\n                      type=\"tel\"\r\n                      name=\"parentPhone\"\r\n                      placeholder=\"9876543211\"\r\n                      value={formData.parentPhone}\r\n                      onChange={handleInputChange}\r\n                      className=\"bg-slate-50 border-slate-200\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Online Platforms */}\r\n              <div>\r\n                <h3 className=\"text-sm font-semibold text-slate-900 mb-4\">Online Platforms</h3>\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6\">\r\n                  <div>\r\n                    <label className=\"text-sm font-medium text-slate-700 block mb-1\">\r\n                      LeetCode Username\r\n                    </label>\r\n                    <Input\r\n                      type=\"text\"\r\n                      name=\"leetcode\"\r\n                      placeholder=\"username_here\"\r\n                      value={formData.leetcode}\r\n                      onChange={handleInputChange}\r\n                      className=\"bg-slate-50 border-slate-200\"\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"text-sm font-medium text-slate-700 block mb-1\">\r\n                      CodeForces Username\r\n                    </label>\r\n                    <Input\r\n                      type=\"text\"\r\n                      name=\"codeforces\"\r\n                      placeholder=\"username_here\"\r\n                      value={formData.codeforces}\r\n                      onChange={handleInputChange}\r\n                      className=\"bg-slate-50 border-slate-200\"\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"text-sm font-medium text-slate-700 block mb-1\">\r\n                      HackerRank Username\r\n                    </label>\r\n                    <Input\r\n                      type=\"text\"\r\n                      name=\"hackerrank\"\r\n                      placeholder=\"username_here\"\r\n                      value={formData.hackerrank}\r\n                      onChange={handleInputChange}\r\n                      className=\"bg-slate-50 border-slate-200\"\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"text-sm font-medium text-slate-700 block mb-1\">\r\n                      CodeChef Username\r\n                    </label>\r\n                    <Input\r\n                      type=\"text\"\r\n                      name=\"codechef\"\r\n                      placeholder=\"username_here\"\r\n                      value={formData.codechef}\r\n                      onChange={handleInputChange}\r\n                      className=\"bg-slate-50 border-slate-200\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Action Buttons */}\r\n              <div className=\"flex gap-3 pt-6 border-t border-slate-200/80\">\r\n                <Button\r\n                  type=\"button\"\r\n                  variant=\"outline\"\r\n                  onClick={onClose}\r\n                  disabled={isSubmitting}\r\n                  className=\"flex-1 text-slate-700 border-slate-300 hover:bg-slate-100\"\r\n                >\r\n                  Cancel\r\n                </Button>\r\n                <Button\r\n                  type=\"submit\"\r\n                  disabled={isSubmitting}\r\n                  className=\"flex-1 bg-sky-600 hover:bg-sky-700 text-white\"\r\n                >\r\n                  {isSubmitting ? \"Adding...\" : \"Add Student\"}\r\n                </Button>\r\n              </div>\r\n            </form>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1622, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Tejab/Desktop/final_year_project/TRACKSHEET/UI/components/staff-student-selector.tsx"],"sourcesContent":["\"use client\"\n\nimport { useEffect, useState, useRef } from \"react\"\nimport { Button } from \"@/components/ui/button\"\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Input } from \"@/components/ui/input\"\nimport { Upload, Plus } from \"lucide-react\"\nimport AddStudentModal from \"./add-student-modal\"\nimport { useNotifications } from \"@/contexts/NotificationContext\"\n\ninterface StaffStudentSelectorProps {\n  onSelectStudent: (studentId: string) => void\n  searchQuery?: string\n}\n\nexport default function StaffStudentSelector({ onSelectStudent, searchQuery = \"\" }: StaffStudentSelectorProps) {\n  const { addNotification } = useNotifications()\n  const fileInputRef = useRef<HTMLInputElement>(null)\n  const [year, setYear] = useState(\"\")\n  const [branch, setBranch] = useState(\"\")\n  const [section, setSection] = useState(\"\")\n  const [showAddModal, setShowAddModal] = useState(false)\n  const [isUploadingExcel, setIsUploadingExcel] = useState(false)\n  const [students, setStudents] = useState<\n    Array<{\n      rollNumber: string\n      fullName: string\n      email: string\n      year: string\n      section: string\n      branch: string\n    }>\n  >([])\n  const [isLoading, setIsLoading] = useState(true)\n  const [loadError, setLoadError] = useState<string | null>(null)\n\n  useEffect(() => {\n    let isMounted = true\n    const load = async () => {\n      setIsLoading(true)\n      setLoadError(null)\n      try {\n        const response = await fetch(\"/api/staff/assigned\", { credentials: \"include\" })\n        if (!response.ok) {\n          const data = await response.json().catch(() => ({}))\n          throw new Error(data.error || \"Failed to load students\")\n        }\n        const data = await response.json()\n        if (isMounted) {\n          setStudents(data.students || [])\n        }\n      } catch (err) {\n        if (isMounted) {\n          setLoadError(err instanceof Error ? err.message : \"Failed to load students\")\n        }\n      } finally {\n        if (isMounted) {\n          setIsLoading(false)\n        }\n      }\n    }\n\n    load()\n    return () => {\n      isMounted = false\n    }\n  }, [])\n\n  const searchLower = searchQuery.toLowerCase()\n  const filteredStudents = students.filter(\n    (student) =>\n      (!year || student.year === year) &&\n      (!branch || student.branch.toLowerCase() === branch.toLowerCase()) &&\n      (!section || student.section.toLowerCase() === section.toLowerCase()) &&\n      (!searchQuery || \n        student.fullName.toLowerCase().includes(searchLower) ||\n        student.rollNumber.toLowerCase().includes(searchLower) ||\n        student.email.toLowerCase().includes(searchLower)\n      ),\n  )\n\n  const handleAddStudentSuccess = () => {\n    // Reload students list after adding new student\n    setIsLoading(true)\n    fetch(\"/api/staff/assigned\", { credentials: \"include\" })\n      .then((res) => res.json())\n      .then((data) => setStudents(data.students || []))\n      .catch(() => setLoadError(\"Failed to reload students\"))\n      .finally(() => setIsLoading(false))\n  }\n\n  const handleExcelFileSelect = async (event: React.ChangeEvent<HTMLInputElement>) => {\n    const file = event.target.files?.[0]\n    if (!file) return\n\n    // Validate file type\n    const fileName = file.name.toLowerCase()\n    const validExtensions = [\".xlsx\", \".xls\", \".csv\"]\n    const isValidFile = validExtensions.some((ext) => fileName.endsWith(ext))\n\n    if (!isValidFile) {\n      addNotification({\n        type: \"error\",\n        title: \"Invalid File Type\",\n        message: \"Please upload only Excel files (.xlsx, .xls, or .csv)\",\n        action: undefined,\n      })\n      if (fileInputRef.current) {\n        fileInputRef.current.value = \"\"\n      }\n      return\n    }\n\n    setIsUploadingExcel(true)\n\n    try {\n      const formData = new FormData()\n      formData.append(\"file\", file)\n\n      const response = await fetch(\"/api/student/upload-excel\", {\n        method: \"POST\",\n        body: formData,\n        credentials: \"include\",\n      })\n\n      const result = await response.json()\n\n      if (!response.ok) {\n        const errorMsg = result.error || \"Failed to upload Excel file\"\n        \n        addNotification({\n          type: \"error\",\n          title: \"Excel Upload Failed\",\n          message: errorMsg,\n          action: undefined,\n        })\n        return\n      }\n\n      // Add success notification\n      addNotification({\n        type: \"success\",\n        title: \"Excel Import Successful\",\n        message: `Successfully imported ${result.successCount} student(s)${result.errorCount > 0 ? ` with ${result.errorCount} error(s)` : \"\"}`,\n        action: undefined,\n      })\n\n      // Reload students list\n      handleAddStudentSuccess()\n\n      // Clear file input\n      if (fileInputRef.current) {\n        fileInputRef.current.value = \"\"\n      }\n    } catch (error) {\n      const errorMsg = error instanceof Error ? error.message : \"Failed to upload Excel file\"\n      \n      addNotification({\n        type: \"error\",\n        title: \"Excel Upload Error\",\n        message: errorMsg,\n        action: undefined,\n      })\n    } finally {\n      setIsUploadingExcel(false)\n    }\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n        {/* Filter Students Container */}\n        <div className=\"lg:col-span-2\">\n          <Card className=\"glass-sm border border-slate-200/80 h-full\">\n            <CardHeader>\n              <CardTitle className=\"text-slate-900\">Filter Students</CardTitle>\n            </CardHeader>\n            <CardContent className=\"space-y-4\">\n              <div className=\"space-y-4\">\n                <div>\n                  <label className=\"text-sm font-medium text-slate-700 block mb-2\">Year</label>\n                  <Input\n                    placeholder=\"e.g., 1, 2, 3, 4\"\n                    value={year}\n                    onChange={(e) => setYear(e.target.value)}\n                    className=\"bg-slate-50 border-slate-200 text-slate-900 placeholder:text-slate-500\"\n                  />\n                </div>\n                <div>\n                  <label className=\"text-sm font-medium text-slate-700 block mb-2\">Branch</label>\n                  <Input\n                    placeholder=\"e.g., CSE, ECE\"\n                    value={branch}\n                    onChange={(e) => setBranch(e.target.value)}\n                    className=\"bg-slate-50 border-slate-200 text-slate-900 placeholder:text-slate-500\"\n                  />\n                </div>\n                <div>\n                  <label className=\"text-sm font-medium text-slate-700 block mb-2\">Section</label>\n                  <Input\n                    placeholder=\"e.g., A, B, C\"\n                    value={section}\n                    onChange={(e) => setSection(e.target.value)}\n                    className=\"bg-slate-50 border-slate-200 text-slate-900 placeholder:text-slate-500\"\n                  />\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n        </div>\n\n        {/* Add Student Details Container */}\n        <div>\n          <Card className=\"glass-sm border border-slate-200/80 h-full\">\n            <CardHeader>\n              <CardTitle className=\"text-slate-900\">Add Student Details</CardTitle>\n            </CardHeader>\n            <CardContent className=\"flex flex-col gap-3\">\n              <Button\n                onClick={() => setShowAddModal(true)}\n                className=\"w-full bg-sky-600 hover:bg-sky-700 text-white rounded-lg flex items-center justify-center gap-2\"\n              >\n                <Plus size={18} />\n                Add Manually\n              </Button>\n              <Button\n                onClick={() => fileInputRef.current?.click()}\n                disabled={isUploadingExcel}\n                variant=\"outline\"\n                className=\"w-full text-slate-700 border-slate-300 hover:bg-slate-100 rounded-lg flex items-center justify-center gap-2\"\n              >\n                <Upload size={18} />\n                {isUploadingExcel ? \"Uploading...\" : \"Add Excel\"}\n              </Button>\n              <input\n                ref={fileInputRef}\n                type=\"file\"\n                accept=\".xlsx,.xls,.csv\"\n                onChange={handleExcelFileSelect}\n                className=\"hidden\"\n              />\n            </CardContent>\n          </Card>\n        </div>\n      </div>\n\n      <Card className=\"glass-sm border border-slate-200/80\">\n        <CardHeader>\n          <CardTitle className=\"text-slate-900\">Students ({filteredStudents.length})</CardTitle>\n        </CardHeader>\n        <CardContent>\n          {isLoading ? (\n            <div className=\"text-sm text-slate-500\">Loading students...</div>\n          ) : loadError ? (\n            <div className=\"text-sm text-rose-600\">{loadError}</div>\n          ) : (\n            <div className=\"space-y-2\">\n              {filteredStudents.map((student) => (\n                <Button\n                  key={student.rollNumber}\n                  variant=\"outline\"\n                  className=\"w-full justify-start text-left h-auto py-3 bg-slate-50 border-slate-200 hover:bg-slate-100 text-slate-900\"\n                  onClick={() => onSelectStudent(student.rollNumber)}\n                >\n                  <div>\n                    <p className=\"font-semibold text-slate-900\">{student.fullName}</p>\n                    <p className=\"text-sm text-slate-600\">\n                      {student.year}Y | {student.branch} | Section {student.section}\n                    </p>\n                  </div>\n                </Button>\n              ))}\n            </div>\n          )}\n        </CardContent>\n      </Card>\n\n      {showAddModal && (\n        <AddStudentModal\n          onClose={() => setShowAddModal(false)}\n          onSuccess={() => {\n            setShowAddModal(false)\n            handleAddStudentSuccess()\n          }}\n        />\n      )}\n    </div>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2102, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Tejab/Desktop/final_year_project/TRACKSHEET/UI/components/ui/use-toast.ts"],"sourcesContent":["'use client'\n\n// Inspired by react-hot-toast library\nimport * as React from 'react'\n\nimport type { ToastActionElement, ToastProps } from '@/components/ui/toast'\n\nconst TOAST_LIMIT = 1\nconst TOAST_REMOVE_DELAY = 1000000\n\ntype ToasterToast = ToastProps & {\n  id: string\n  title?: React.ReactNode\n  description?: React.ReactNode\n  action?: ToastActionElement\n}\n\nconst actionTypes = {\n  ADD_TOAST: 'ADD_TOAST',\n  UPDATE_TOAST: 'UPDATE_TOAST',\n  DISMISS_TOAST: 'DISMISS_TOAST',\n  REMOVE_TOAST: 'REMOVE_TOAST',\n} as const\n\nlet count = 0\n\nfunction genId() {\n  count = (count + 1) % Number.MAX_SAFE_INTEGER\n  return count.toString()\n}\n\ntype ActionType = typeof actionTypes\n\ntype Action =\n  | {\n      type: ActionType['ADD_TOAST']\n      toast: ToasterToast\n    }\n  | {\n      type: ActionType['UPDATE_TOAST']\n      toast: Partial<ToasterToast>\n    }\n  | {\n      type: ActionType['DISMISS_TOAST']\n      toastId?: ToasterToast['id']\n    }\n  | {\n      type: ActionType['REMOVE_TOAST']\n      toastId?: ToasterToast['id']\n    }\n\ninterface State {\n  toasts: ToasterToast[]\n}\n\nconst toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>()\n\nconst addToRemoveQueue = (toastId: string) => {\n  if (toastTimeouts.has(toastId)) {\n    return\n  }\n\n  const timeout = setTimeout(() => {\n    toastTimeouts.delete(toastId)\n    dispatch({\n      type: 'REMOVE_TOAST',\n      toastId: toastId,\n    })\n  }, TOAST_REMOVE_DELAY)\n\n  toastTimeouts.set(toastId, timeout)\n}\n\nexport const reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case 'ADD_TOAST':\n      return {\n        ...state,\n        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\n      }\n\n    case 'UPDATE_TOAST':\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === action.toast.id ? { ...t, ...action.toast } : t,\n        ),\n      }\n\n    case 'DISMISS_TOAST': {\n      const { toastId } = action\n\n      // ! Side effects ! - This could be extracted into a dismissToast() action,\n      // but I'll keep it here for simplicity\n      if (toastId) {\n        addToRemoveQueue(toastId)\n      } else {\n        state.toasts.forEach((toast) => {\n          addToRemoveQueue(toast.id)\n        })\n      }\n\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === toastId || toastId === undefined\n            ? {\n                ...t,\n                open: false,\n              }\n            : t,\n        ),\n      }\n    }\n    case 'REMOVE_TOAST':\n      if (action.toastId === undefined) {\n        return {\n          ...state,\n          toasts: [],\n        }\n      }\n      return {\n        ...state,\n        toasts: state.toasts.filter((t) => t.id !== action.toastId),\n      }\n  }\n}\n\nconst listeners: Array<(state: State) => void> = []\n\nlet memoryState: State = { toasts: [] }\n\nfunction dispatch(action: Action) {\n  memoryState = reducer(memoryState, action)\n  listeners.forEach((listener) => {\n    listener(memoryState)\n  })\n}\n\ntype Toast = Omit<ToasterToast, 'id'>\n\nfunction toast({ ...props }: Toast) {\n  const id = genId()\n\n  const update = (props: ToasterToast) =>\n    dispatch({\n      type: 'UPDATE_TOAST',\n      toast: { ...props, id },\n    })\n  const dismiss = () => dispatch({ type: 'DISMISS_TOAST', toastId: id })\n\n  dispatch({\n    type: 'ADD_TOAST',\n    toast: {\n      ...props,\n      id,\n      open: true,\n      onOpenChange: (open) => {\n        if (!open) dismiss()\n      },\n    },\n  })\n\n  return {\n    id: id,\n    dismiss,\n    update,\n  }\n}\n\nfunction useToast() {\n  const [state, setState] = React.useState<State>(memoryState)\n\n  React.useEffect(() => {\n    listeners.push(setState)\n    return () => {\n      const index = listeners.indexOf(setState)\n      if (index > -1) {\n        listeners.splice(index, 1)\n      }\n    }\n  }, [state])\n\n  return {\n    ...state,\n    toast,\n    dismiss: (toastId?: string) => dispatch({ type: 'DISMISS_TOAST', toastId }),\n  }\n}\n\nexport { useToast, toast }\n"],"names":[],"mappings":";;;;;;;;AAEA,sCAAsC;AACtC;AAHA;;AAOA,MAAM,cAAc;AACpB,MAAM,qBAAqB;AAS3B,MAAM,cAAc;IAClB,WAAW;IACX,cAAc;IACd,eAAe;IACf,cAAc;AAChB;AAEA,IAAI,QAAQ;AAEZ,SAAS;IACP,QAAQ,CAAC,QAAQ,CAAC,IAAI,OAAO,gBAAgB;IAC7C,OAAO,MAAM,QAAQ;AACvB;AA0BA,MAAM,gBAAgB,IAAI;AAE1B,MAAM,mBAAmB,CAAC;IACxB,IAAI,cAAc,GAAG,CAAC,UAAU;QAC9B;IACF;IAEA,MAAM,UAAU,WAAW;QACzB,cAAc,MAAM,CAAC;QACrB,SAAS;YACP,MAAM;YACN,SAAS;QACX;IACF,GAAG;IAEH,cAAc,GAAG,CAAC,SAAS;AAC7B;AAEO,MAAM,UAAU,CAAC,OAAc;IACpC,OAAQ,OAAO,IAAI;QACjB,KAAK;YACH,OAAO;gBACL,GAAG,KAAK;gBACR,QAAQ;oBAAC,OAAO,KAAK;uBAAK,MAAM,MAAM;iBAAC,CAAC,KAAK,CAAC,GAAG;YACnD;QAEF,KAAK;YACH,OAAO;gBACL,GAAG,KAAK;gBACR,QAAQ,MAAM,MAAM,CAAC,GAAG,CAAC,CAAC,IACxB,EAAE,EAAE,KAAK,OAAO,KAAK,CAAC,EAAE,GAAG;wBAAE,GAAG,CAAC;wBAAE,GAAG,OAAO,KAAK;oBAAC,IAAI;YAE3D;QAEF,KAAK;YAAiB;gBACpB,MAAM,EAAE,OAAO,EAAE,GAAG;gBAEpB,2EAA2E;gBAC3E,uCAAuC;gBACvC,IAAI,SAAS;oBACX,iBAAiB;gBACnB,OAAO;oBACL,MAAM,MAAM,CAAC,OAAO,CAAC,CAAC;wBACpB,iBAAiB,MAAM,EAAE;oBAC3B;gBACF;gBAEA,OAAO;oBACL,GAAG,KAAK;oBACR,QAAQ,MAAM,MAAM,CAAC,GAAG,CAAC,CAAC,IACxB,EAAE,EAAE,KAAK,WAAW,YAAY,YAC5B;4BACE,GAAG,CAAC;4BACJ,MAAM;wBACR,IACA;gBAER;YACF;QACA,KAAK;YACH,IAAI,OAAO,OAAO,KAAK,WAAW;gBAChC,OAAO;oBACL,GAAG,KAAK;oBACR,QAAQ,EAAE;gBACZ;YACF;YACA,OAAO;gBACL,GAAG,KAAK;gBACR,QAAQ,MAAM,MAAM,CAAC,MAAM,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK,OAAO,OAAO;YAC5D;IACJ;AACF;AAEA,MAAM,YAA2C,EAAE;AAEnD,IAAI,cAAqB;IAAE,QAAQ,EAAE;AAAC;AAEtC,SAAS,SAAS,MAAc;IAC9B,cAAc,QAAQ,aAAa;IACnC,UAAU,OAAO,CAAC,CAAC;QACjB,SAAS;IACX;AACF;AAIA,SAAS,MAAM,EAAE,GAAG,OAAc;IAChC,MAAM,KAAK;IAEX,MAAM,SAAS,CAAC,QACd,SAAS;YACP,MAAM;YACN,OAAO;gBAAE,GAAG,KAAK;gBAAE;YAAG;QACxB;IACF,MAAM,UAAU,IAAM,SAAS;YAAE,MAAM;YAAiB,SAAS;QAAG;IAEpE,SAAS;QACP,MAAM;QACN,OAAO;YACL,GAAG,KAAK;YACR;YACA,MAAM;YACN,cAAc,CAAC;gBACb,IAAI,CAAC,MAAM;YACb;QACF;IACF;IAEA,OAAO;QACL,IAAI;QACJ;QACA;IACF;AACF;AAEA,SAAS;IACP,MAAM,CAAC,OAAO,SAAS,GAAG,iNAAc,CAAQ;IAEhD,kNAAe,CAAC;QACd,UAAU,IAAI,CAAC;QACf,OAAO;YACL,MAAM,QAAQ,UAAU,OAAO,CAAC;YAChC,IAAI,QAAQ,CAAC,GAAG;gBACd,UAAU,MAAM,CAAC,OAAO;YAC1B;QACF;IACF,GAAG;QAAC;KAAM;IAEV,OAAO;QACL,GAAG,KAAK;QACR;QACA,SAAS,CAAC,UAAqB,SAAS;gBAAE,MAAM;gBAAiB;YAAQ;IAC3E;AACF","debugId":null}},
    {"offset": {"line": 2259, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Tejab/Desktop/final_year_project/TRACKSHEET/UI/components/staff-edit-modal.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport {\n  Card,\n  CardContent,\n  CardHeader,\n  CardTitle,\n} from \"@/components/ui/card\";\nimport { X, Trash2 } from \"lucide-react\";\nimport { useToast } from \"@/components/ui/use-toast\";\n\ninterface StaffEditModalProps {\n  section: string;\n  studentData: any;\n  studentId: string;\n  onClose: () => void;\n  onSaveSuccess?: () => void;\n}\n\nexport default function StaffEditModal({\n  section,\n  studentData,\n  studentId,\n  onClose,\n  onSaveSuccess,\n}: StaffEditModalProps) {\n  const [formData, setFormData] = useState(studentData[section] || {});\n  const [isSaving, setIsSaving] = useState(false);\n  const [isDeleting, setIsDeleting] = useState(false);\n  const [showConfirmDelete, setShowConfirmDelete] = useState(false);\n  const { toast } = useToast();\n\n  // Track if data has changed\n  const hasChanges = JSON.stringify(formData) !== JSON.stringify(studentData[section] || {});\n\n  // Update form data when studentData or section changes\n  useEffect(() => {\n    setFormData(studentData[section] || {});\n  }, [studentData, section]);\n\n  // Disable body scroll when modal is open\n  useEffect(() => {\n    document.body.style.overflow = \"hidden\";\n    return () => {\n      document.body.style.overflow = \"unset\";\n    };\n  }, []);\n\n  const handleSave = async () => {\n    if (!hasChanges) {\n      toast({\n        description: \"No changes to save\",\n        variant: \"default\",\n      });\n      onClose();\n      return;\n    }\n\n    // Show confirmation if changes exist\n    const confirmed = window.confirm(\n      `Are you sure you want to save changes to ${section}?`\n    );\n    if (!confirmed) return;\n\n    setIsSaving(true);\n    try {\n      const response = await fetch(`/api/student/${encodeURIComponent(studentId)}/update`, {\n        method: \"PATCH\",\n        headers: { \"Content-Type\": \"application/json\" },\n        credentials: \"include\",\n        body: JSON.stringify({ section, data: formData }),\n      });\n\n      if (!response.ok) {\n        const error = await response.json().catch(() => ({}));\n        throw new Error(error.error || \"Failed to save changes\");\n      }\n\n      toast({\n        description: `${section} updated successfully`,\n        variant: \"default\",\n      });\n      onSaveSuccess?.();\n      onClose();\n    } catch (err) {\n      toast({\n        description: err instanceof Error ? err.message : \"Failed to save changes\",\n        variant: \"destructive\",\n      });\n    } finally {\n      setIsSaving(false);\n    }\n  };\n\n  const handleDelete = async () => {\n    const confirmed = window.confirm(\n      `Are you sure you want to delete ${section} data? This action cannot be undone.`\n    );\n    if (!confirmed) return;\n\n    setIsDeleting(true);\n    try {\n      const response = await fetch(\n        `/api/student/${encodeURIComponent(studentId)}/${section}`,\n        {\n          method: \"DELETE\",\n          headers: { \"Content-Type\": \"application/json\" },\n          credentials: \"include\",\n        }\n      );\n\n      if (!response.ok) {\n        const error = await response.json().catch(() => ({}));\n        throw new Error(error.error || \"Failed to delete data\");\n      }\n\n      toast({\n        description: `${section} deleted successfully`,\n        variant: \"default\",\n      });\n      onSaveSuccess?.();\n      onClose();\n    } catch (err) {\n      toast({\n        description: err instanceof Error ? err.message : \"Failed to delete data\",\n        variant: \"destructive\",\n      });\n    } finally {\n      setIsDeleting(false);\n      setShowConfirmDelete(false);\n    }\n  };\n\n  const renderFormFields = () => {\n    const renderInput = (label: string, value: any, onChange: (val: any) => void, type: string = \"text\") => (\n      <div key={label}>\n        <label\n          style={{\n            fontSize: \"14px\",\n            fontWeight: 500,\n            color: \"var(--muted-foreground)\",\n            display: \"block\",\n            marginBottom: \"8px\",\n          }}\n        >\n          {label}\n        </label>\n        <Input\n          type={type}\n          value={String(value || \"\")}\n          onChange={(e) => onChange(type === \"number\" ? parseFloat(e.target.value) || 0 : e.target.value)}\n          style={{\n            backgroundColor: \"var(--input)\",\n            borderColor: \"var(--border)\",\n            color: \"var(--foreground)\",\n            borderRadius: \"var(--radius-xl)\",\n            padding: \"8px 12px\",\n            fontSize: \"14px\",\n          }}\n        />\n      </div>\n    );\n\n    switch (section) {\n      case \"profile\":\n        return (\n          <div style={{ display: \"flex\", flexDirection: \"column\", gap: \"16px\" }}>\n            {renderInput(\n              \"Full Name\",\n              formData.fullName || \"\",\n              (val) => setFormData({ ...formData, fullName: val })\n            )}\n            {renderInput(\n              \"Email\",\n              formData.email || \"\",\n              (val) => setFormData({ ...formData, email: val })\n            )}\n            {renderInput(\n              \"Phone\",\n              formData.phone || \"\",\n              (val) => setFormData({ ...formData, phone: val })\n            )}\n            {renderInput(\n              \"Date of Birth\",\n              formData.dob || \"\",\n              (val) => setFormData({ ...formData, dob: val })\n            )}\n            {renderInput(\n              \"Address\",\n              formData.address || \"\",\n              (val) => setFormData({ ...formData, address: val })\n            )}\n            {renderInput(\n              \"Year\",\n              formData.year || \"\",\n              (val) => setFormData({ ...formData, year: val })\n            )}\n            {renderInput(\n              \"Branch\",\n              formData.branch || \"\",\n              (val) => setFormData({ ...formData, branch: val })\n            )}\n            {renderInput(\n              \"Section\",\n              formData.section || \"\",\n              (val) => setFormData({ ...formData, section: val })\n            )}\n            {renderInput(\n              \"Parent Name\",\n              formData.parentName || \"\",\n              (val) => setFormData({ ...formData, parentName: val })\n            )}\n            {renderInput(\n              \"Parent Phone\",\n              formData.parentPhone || \"\",\n              (val) => setFormData({ ...formData, parentPhone: val })\n            )}\n          </div>\n        );\n      case \"academic\":\n        return (\n          <div style={{ display: \"flex\", flexDirection: \"column\", gap: \"16px\" }}>\n            {Object.entries(formData).map(([subject, score]) =>\n              renderInput(\n                subject.charAt(0).toUpperCase() + subject.slice(1),\n                score,\n                (val) => setFormData({ ...formData, [subject]: val }),\n                \"number\"\n              )\n            )}\n          </div>\n        );\n      case \"cocircular\":\n      case \"extracircular\":\n        return (\n          <div style={{ display: \"flex\", flexDirection: \"column\", gap: \"16px\" }}>\n            {Object.entries(formData).map(([category, entries]) =>\n              renderInput(\n                category.charAt(0).toUpperCase() + category.slice(1),\n                entries,\n                (val) => setFormData({ ...formData, [category]: val })\n              )\n            )}\n          </div>\n        );\n      case \"platforms\":\n        return (\n          <div style={{ display: \"flex\", flexDirection: \"column\", gap: \"16px\" }}>\n            {renderInput(\n              \"LeetCode\",\n              formData.leetcode || \"\",\n              (val) => setFormData({ ...formData, leetcode: val })\n            )}\n            {renderInput(\n              \"CodeForces\",\n              formData.codeforces || \"\",\n              (val) => setFormData({ ...formData, codeforces: val })\n            )}\n            {renderInput(\n              \"HackerRank\",\n              formData.hackerrank || \"\",\n              (val) => setFormData({ ...formData, hackerrank: val })\n            )}\n            {renderInput(\n              \"CodeChef\",\n              formData.codechef || \"\",\n              (val) => setFormData({ ...formData, codechef: val })\n            )}\n          </div>\n        );\n      default:\n        return (\n          <div style={{ display: \"flex\", flexDirection: \"column\", gap: \"16px\" }}>\n            {Object.entries(formData).map(([key, value]) =>\n              renderInput(\n                key.charAt(0).toUpperCase() + key.slice(1),\n                value,\n                (val) => setFormData({ ...formData, [key]: val })\n              )\n            )}\n          </div>\n        );\n    }\n  };\n\n  return (\n    <div\n      onClick={onClose}\n      style={{\n        position: \"fixed\",\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n        backgroundColor: \"rgba(15, 23, 42, 0.3)\",\n        backdropFilter: \"blur(6px)\",\n        zIndex: 9999,\n        overflow: \"hidden\",\n      }}\n    >\n      <Card\n        onClick={(e) => e.stopPropagation()}\n        style={{\n          position: \"fixed\",\n          top: \"80px\",\n          left: \"50%\",\n          transform: \"translateX(-50%)\",\n          width: \"100%\",\n          maxWidth: \"448px\",\n          maxHeight: \"calc(100vh - 100px)\",\n          overflowY: \"auto\",\n          borderRadius: \"var(--radius-xl)\",\n          backgroundColor: \"var(--card)\",\n          borderColor: \"var(--border)\",\n          boxShadow: \"0 25px 50px -12px rgba(0, 0, 0, 0.25)\",\n          zIndex: 10000,\n        }}\n        className=\"glass-lg\"\n      >\n        <CardHeader\n          style={{\n            display: \"flex\",\n            flexDirection: \"row\",\n            alignItems: \"center\",\n            justifyContent: \"space-between\",\n            position: \"sticky\",\n            top: 0,\n            backgroundColor: \"var(--card)\",\n            zIndex: 10,\n            padding: \"16px\",\n            borderBottomColor: \"var(--border)\",\n            borderBottomWidth: \"1px\",\n            backdropFilter: \"blur(10px)\",\n          }}\n        >\n          <CardTitle\n            style={{\n              color: \"var(--foreground)\",\n              textTransform: \"capitalize\",\n              fontSize: \"16px\",\n              fontWeight: 600,\n            }}\n          >\n            Edit {section}\n          </CardTitle>\n          <Button\n            variant=\"ghost\"\n            size=\"icon\"\n            onClick={onClose}\n            style={{\n              borderRadius: \"50%\",\n              color: \"var(--muted-foreground)\",\n              padding: \"8px\",\n            }}\n          >\n            <X size={20} />\n          </Button>\n        </CardHeader>\n        <CardContent\n          style={{\n            display: \"flex\",\n            flexDirection: \"column\",\n            gap: \"24px\",\n            padding: \"16px\",\n          }}\n        >\n          {renderFormFields()}\n\n          <div\n            style={{\n              display: \"flex\",\n              gap: \"12px\",\n              marginTop: \"16px\",\n              flexWrap: \"wrap\",\n            }}\n          >\n            <Button\n              variant=\"outline\"\n              onClick={onClose}\n              disabled={isSaving || isDeleting}\n              style={{\n                flex: 1,\n                minWidth: \"100px\",\n                borderRadius: \"var(--radius-xl)\",\n                borderColor: \"var(--border)\",\n                backgroundColor: \"var(--card)\",\n                color: \"var(--foreground)\",\n                padding: \"10px 16px\",\n                fontSize: \"14px\",\n                opacity: isSaving || isDeleting ? 0.5 : 1,\n              }}\n            >\n              Cancel\n            </Button>\n            <Button\n              onClick={handleSave}\n              disabled={!hasChanges || isSaving || isDeleting}\n              style={{\n                flex: 1,\n                minWidth: \"100px\",\n                borderRadius: \"var(--radius-xl)\",\n                backgroundColor: !hasChanges ? \"#9ca3af\" : \"var(--primary)\",\n                color: \"var(--primary-foreground)\",\n                padding: \"10px 16px\",\n                fontSize: \"14px\",\n                opacity: isSaving || isDeleting ? 0.5 : 1,\n                cursor: !hasChanges ? \"not-allowed\" : \"pointer\",\n              }}\n            >\n              {isSaving ? \"Saving...\" : \"Save Changes\"}\n            </Button>\n            <Button\n              onClick={() => setShowConfirmDelete(true)}\n              disabled={isSaving || isDeleting}\n              style={{\n                flex: 1,\n                minWidth: \"100px\",\n                borderRadius: \"var(--radius-xl)\",\n                backgroundColor: \"#ef4444\",\n                color: \"white\",\n                padding: \"10px 16px\",\n                fontSize: \"14px\",\n                opacity: isSaving || isDeleting ? 0.5 : 1,\n                display: \"flex\",\n                alignItems: \"center\",\n                justifyContent: \"center\",\n                gap: \"8px\",\n              }}\n            >\n              <Trash2 size={16} />\n              Delete\n            </Button>\n          </div>\n\n          {/* Delete confirmation dialog */}\n          {showConfirmDelete && (\n            <div\n              style={{\n                position: \"fixed\",\n                top: 0,\n                left: 0,\n                right: 0,\n                bottom: 0,\n                backgroundColor: \"rgba(15, 23, 42, 0.5)\",\n                display: \"flex\",\n                alignItems: \"center\",\n                justifyContent: \"center\",\n                zIndex: 10001,\n              }}\n              onClick={() => setShowConfirmDelete(false)}\n            >\n              <Card\n                onClick={(e) => e.stopPropagation()}\n                style={{\n                  maxWidth: \"400px\",\n                  padding: \"24px\",\n                }}\n              >\n                <h3 style={{ fontSize: \"18px\", fontWeight: 600, marginBottom: \"12px\" }}>\n                  Confirm Delete\n                </h3>\n                <p style={{ color: \"var(--muted-foreground)\", marginBottom: \"20px\" }}>\n                  Are you sure you want to delete {section} data? This action cannot be undone.\n                </p>\n                <div style={{ display: \"flex\", gap: \"12px\" }}>\n                  <Button\n                    variant=\"outline\"\n                    onClick={() => setShowConfirmDelete(false)}\n                    disabled={isDeleting}\n                    style={{\n                      flex: 1,\n                    }}\n                  >\n                    Cancel\n                  </Button>\n                  <Button\n                    onClick={handleDelete}\n                    disabled={isDeleting}\n                    style={{\n                      flex: 1,\n                      backgroundColor: \"#ef4444\",\n                      color: \"white\",\n                    }}\n                  >\n                    {isDeleting ? \"Deleting...\" : \"Delete\"}\n                  </Button>\n                </div>\n              </Card>\n            </div>\n          )}\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2860, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Tejab/Desktop/final_year_project/TRACKSHEET/UI/components/sections/overall-analysis-section.tsx"],"sourcesContent":["\"use client\"\n\nimport { useEffect, useState } from \"react\"\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport {\n  BarChart,\n  Bar,\n  PieChart,\n  Pie,\n  Cell,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n  Legend,\n  ResponsiveContainer,\n  LineChart,\n  Line,\n  RadarChart,\n  PolarGrid,\n  PolarAngleAxis,\n  PolarRadiusAxis,\n  Radar,\n} from \"recharts\"\nimport { TrendingUp, AlertTriangle, Briefcase } from \"lucide-react\"\n\ninterface OverallAnalysisSectionProps {\n  studentId: string\n}\n\ninterface OverallInsights {\n  predictiveData: Array<{\n    metric: string\n    value: number\n    confidence: number\n    trend: string\n    description: string\n  }>\n  radarData: Array<{ category: string; value: number }>\n  academicData: Array<{ category: string; score: number }>\n  activitiesData: Array<{ name: string; value: number }>\n  performanceData: Array<{ month: string; academic: number; activities: number; platforms: number }>\n  recommendations: Array<{ title: string; reason: string; type: string }>\n}\n\nexport default function OverallAnalysisSection({ studentId }: OverallAnalysisSectionProps) {\n  const [insights, setInsights] = useState<OverallInsights | null>(null)\n  const [loadError, setLoadError] = useState<string | null>(null)\n\n  useEffect(() => {\n    if (!studentId) return\n    let active = true\n    const load = async () => {\n      setLoadError(null)\n      try {\n        const response = await fetch(\n          `/api/ml/${encodeURIComponent(studentId)}/insights?section=overall`,\n          { credentials: \"include\" }\n        )\n        if (!response.ok) {\n          const data = await response.json().catch(() => ({}))\n          throw new Error(data.error || \"Failed to load overall analysis\")\n        }\n        const data = await response.json()\n        if (active) {\n          setInsights(data.overall || null)\n        }\n      } catch (err) {\n        if (active) {\n          setLoadError(err instanceof Error ? err.message : \"Failed to load overall analysis\")\n        }\n      }\n    }\n    load()\n    return () => {\n      active = false\n    }\n  }, [studentId])\n\n  const academicData = insights?.academicData || []\n  const activitiesData = insights?.activitiesData || []\n  const performanceData = insights?.performanceData || []\n  const predictiveData = insights?.predictiveData || []\n  const radarData = insights?.radarData || []\n  const recommendations = insights?.recommendations || []\n  const COLORS = [\"#3b82f6\", \"#10b981\", \"#f59e0b\", \"#ef4444\", \"#8b5cf6\"]\n\n  return (\n    <div className=\"space-y-6\">\n      <h2 className=\"text-3xl font-bold text-slate-900 gradient-text\">Overall Analysis</h2>\n\n      {loadError ? (\n        <div className=\"text-sm text-rose-600\">{loadError}</div>\n      ) : null}\n\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n        {predictiveData.map((item, index) => {\n          const Icon =\n            item.metric === \"Next Semester GPA\"\n              ? TrendingUp\n              : item.metric === \"Dropout Risk Score\"\n                ? AlertTriangle\n                : Briefcase\n          return (\n            <Card key={index} className=\"glass-sm border border-slate-200/80\">\n              <CardContent className=\"pt-6\">\n                <div className=\"flex items-start justify-between mb-4\">\n                  <div>\n                    <p className=\"text-slate-500 text-sm mb-1\">{item.metric}</p>\n                    <div className=\"flex items-baseline gap-2\">\n                      <span className=\"text-3xl font-bold text-sky-600\">{item.value}</span>\n                      {item.metric === \"Next Semester GPA\" && <span className=\"text-slate-500\">/10</span>}\n                      {item.metric === \"Dropout Risk Score\" && <span className=\"text-slate-500\">%</span>}\n                      {item.metric === \"Career Readiness Index\" && <span className=\"text-slate-500\">/100</span>}\n                    </div>\n                  </div>\n                  <Icon className=\"text-sky-500\" size={24} />\n                </div>\n                <div className=\"space-y-2\">\n                  <div className=\"flex items-center justify-between text-xs\">\n                    <span className=\"text-slate-500\">Confidence</span>\n                    <span className=\"text-slate-600\">{item.confidence}%</span>\n                  </div>\n                  <div className=\"w-full bg-slate-100 rounded-full h-2\">\n                    <div className=\"bg-sky-500 h-2 rounded-full\" style={{ width: `${item.confidence}%` }}></div>\n                  </div>\n                  <p className=\"text-slate-600 text-xs mt-3\">{item.description}</p>\n                </div>\n              </CardContent>\n            </Card>\n          )\n        })}\n      </div>\n\n      <Card className=\"glass-sm border border-slate-200/80\">\n        <CardHeader>\n          <CardTitle className=\"text-slate-900\">Holistic Profile (360Â° View)</CardTitle>\n        </CardHeader>\n        <CardContent>\n          <ResponsiveContainer width=\"100%\" height={300}>\n            <RadarChart data={radarData}>\n              <PolarGrid stroke=\"#e5e7eb\" />\n              <PolarAngleAxis dataKey=\"category\" stroke=\"#64748b\" />\n              <PolarRadiusAxis stroke=\"#64748b\" />\n              <Radar name=\"Score\" dataKey=\"value\" stroke=\"#3b82f6\" fill=\"#3b82f6\" fillOpacity={0.35} />\n              <Tooltip contentStyle={{ backgroundColor: \"#ffffff\", border: \"1px solid #e2e8f0\", borderRadius: 12 }} />\n            </RadarChart>\n          </ResponsiveContainer>\n        </CardContent>\n      </Card>\n\n      {/* Academic Performance */}\n      <Card className=\"glass-sm border border-slate-200/80\">\n        <CardHeader>\n          <CardTitle className=\"text-slate-900\">Academic Performance</CardTitle>\n        </CardHeader>\n        <CardContent>\n          <ResponsiveContainer width=\"100%\" height={300}>\n            <BarChart data={academicData}>\n              <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#e5e7eb\" />\n              <XAxis dataKey=\"category\" stroke=\"#64748b\" />\n              <YAxis stroke=\"#64748b\" />\n              <Tooltip contentStyle={{ backgroundColor: \"#ffffff\", border: \"1px solid #e2e8f0\", borderRadius: 12 }} />\n              <Bar dataKey=\"score\" fill=\"#3b82f6\" radius={[8, 8, 0, 0]} />\n            </BarChart>\n          </ResponsiveContainer>\n        </CardContent>\n      </Card>\n\n      {/* Activities Distribution */}\n      <Card className=\"glass-sm border border-slate-200/80\">\n        <CardHeader>\n          <CardTitle className=\"text-slate-900\">Activities Distribution</CardTitle>\n        </CardHeader>\n        <CardContent>\n          <ResponsiveContainer width=\"100%\" height={300}>\n            <PieChart>\n              <Pie\n                data={activitiesData}\n                cx=\"50%\"\n                cy=\"50%\"\n                labelLine={false}\n                label={({ name, value }) => `${name}: ${value}%`}\n                outerRadius={100}\n                fill=\"#8884d8\"\n                dataKey=\"value\"\n              >\n                {activitiesData.map((entry, index) => (\n                  <Cell key={`cell-${index}`} fill={COLORS[index % COLORS.length]} />\n                ))}\n              </Pie>\n              <Tooltip contentStyle={{ backgroundColor: \"#ffffff\", border: \"1px solid #e2e8f0\", borderRadius: 12 }} />\n            </PieChart>\n          </ResponsiveContainer>\n        </CardContent>\n      </Card>\n\n      {/* Performance Trend */}\n      <Card className=\"glass-sm border border-slate-200/80\">\n        <CardHeader>\n          <CardTitle className=\"text-slate-900\">Performance Trend</CardTitle>\n        </CardHeader>\n        <CardContent>\n          <ResponsiveContainer width=\"100%\" height={300}>\n            <LineChart data={performanceData}>\n              <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#e5e7eb\" />\n              <XAxis dataKey=\"month\" stroke=\"#64748b\" />\n              <YAxis stroke=\"#64748b\" />\n              <Tooltip contentStyle={{ backgroundColor: \"#ffffff\", border: \"1px solid #e2e8f0\", borderRadius: 12 }} />\n              <Legend />\n              <Line type=\"monotone\" dataKey=\"academic\" stroke=\"#3b82f6\" strokeWidth={2} />\n              <Line type=\"monotone\" dataKey=\"activities\" stroke=\"#10b981\" strokeWidth={2} />\n              <Line type=\"monotone\" dataKey=\"platforms\" stroke=\"#f59e0b\" strokeWidth={2} />\n            </LineChart>\n          </ResponsiveContainer>\n        </CardContent>\n      </Card>\n\n      {/* Recommendations */}\n      <Card className=\"glass-sm border border-slate-200/80\">\n        <CardHeader>\n          <CardTitle className=\"text-slate-900\">Recommendations</CardTitle>\n        </CardHeader>\n        <CardContent className=\"space-y-4\">\n          <div className=\"bg-slate-50 border border-slate-200 p-4 rounded-lg border-l-4 border-blue-500\">\n            <h4 className=\"text-slate-900 font-semibold mb-2\">Individual Recommendations</h4>\n            {recommendations.length ? (\n              <ul className=\"text-slate-600 space-y-2 text-sm\">\n                {recommendations.map((item, idx) => (\n                  <li key={`${item.title}-${idx}`}>â€¢ {item.title}: {item.reason}</li>\n                ))}\n              </ul>\n            ) : (\n              <div className=\"text-sm text-slate-500\">No recommendations available yet.</div>\n            )}\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3581, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Tejab/Desktop/final_year_project/TRACKSHEET/UI/components/staff-student-details.tsx"],"sourcesContent":["\"use client\"\n\nimport { useEffect, useMemo, useState } from \"react\"\nimport { Button } from \"@/components/ui/button\"\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { ArrowLeft } from \"lucide-react\"\nimport StaffEditModal from \"./staff-edit-modal\"\nimport OverallAnalysisSection from \"./sections/overall-analysis-section\"\n\ninterface StaffStudentDetailsProps {\n  studentId: string\n  onBack?: () => void\n}\n\nexport default function StaffStudentDetails({ studentId, onBack }: StaffStudentDetailsProps) {\n  const [editingSection, setEditingSection] = useState<string | null>(null)\n  const [studentData, setStudentData] = useState<{\n    profile: {\n      fullName: string\n      email: string\n      phone: string\n      dob: string\n      address: string\n      rollNumber: string\n      year: string\n      branch: string\n      section: string\n      parentName: string\n      parentPhone: string\n      leetcode?: string\n      codeforces?: string\n      hackerrank?: string\n      codechef?: string\n    }\n    academics: { subjects: Array<{ name: string; score: string | number }> }\n    cocirculars: { categories: Array<{ category: string; entries: string[] }> }\n    ecirculars: { categories: Array<{ category: string; entries: string[] }> }\n  } | null>(null)\n  const [isLoading, setIsLoading] = useState(true)\n  const [loadError, setLoadError] = useState<string | null>(null)\n\n  useEffect(() => {\n    let isMounted = true\n    const load = async () => {\n      setIsLoading(true)\n      setLoadError(null)\n      try {\n        const response = await fetch(`/api/student/${encodeURIComponent(studentId)}`, { credentials: \"include\" })\n        if (!response.ok) {\n          const data = await response.json().catch(() => ({}))\n          throw new Error(data.error || \"Failed to load student data\")\n        }\n        const data = await response.json()\n        if (isMounted) {\n          setStudentData(data)\n        }\n      } catch (err) {\n        if (isMounted) {\n          setLoadError(err instanceof Error ? err.message : \"Failed to load student data\")\n        }\n      } finally {\n        if (isMounted) {\n          setIsLoading(false)\n        }\n      }\n    }\n\n    load()\n    return () => {\n      isMounted = false\n    }\n  }, [studentId])\n\n  const editPayload = useMemo(() => {\n    if (!studentData) return null\n\n    const academicFields: Record<string, string | number> = {}\n    studentData.academics.subjects.forEach((subject) => {\n      academicFields[subject.name] = subject.score\n    })\n\n    const toCategoryMap = (categories: Array<{ category: string; entries: string[] }>) => {\n      const result: Record<string, string> = {}\n      categories.forEach((item) => {\n        result[item.category] = item.entries.join(\"\\n\")\n      })\n      return result\n    }\n\n    return {\n      profile: studentData.profile,\n      academic: academicFields,\n      cocircular: toCategoryMap(studentData.cocirculars.categories),\n      extracircular: toCategoryMap(studentData.ecirculars.categories),\n      platforms: {\n        leetcode: studentData.profile.leetcode || \"\",\n        codeforces: studentData.profile.codeforces || \"\",\n        hackerrank: studentData.profile.hackerrank || \"\",\n        codechef: studentData.profile.codechef || \"\",\n      },\n    }\n  }, [studentData])\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex items-center gap-4\">\n        {onBack && (\n          <Button variant=\"outline\" onClick={onBack} className=\"text-slate-700 border-slate-300 bg-white/70 hover:bg-slate-100\">\n            <ArrowLeft size={20} />\n            Back\n          </Button>\n        )}\n        <div>\n          <h2 className=\"text-2xl font-bold text-slate-900\">\n            {studentData?.profile.fullName || \"Student\"}\n          </h2>\n          <p className=\"text-slate-500\">{studentData?.profile.email || \"\"}</p>\n        </div>\n      </div>\n\n      {isLoading ? (\n        <div className=\"text-sm text-slate-500\">Loading student data...</div>\n      ) : loadError ? (\n        <div className=\"text-sm text-rose-600\">{loadError}</div>\n      ) : null}\n\n      {/* Profile section */}\n      <Card className=\"glass-sm border border-slate-200/80\">\n        <CardHeader className=\"flex flex-row items-center justify-between\">\n          <CardTitle className=\"text-slate-900\">Profile Details</CardTitle>\n          <Button size=\"sm\" onClick={() => setEditingSection(\"profile\")} className=\"bg-sky-600 hover:bg-sky-700\">\n            Edit\n          </Button>\n        </CardHeader>\n        <CardContent className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          <div>\n            <p className=\"text-sm text-slate-500\">Date of Birth</p>\n            <p className=\"text-slate-900 font-semibold\">{studentData?.profile.dob || \"-\"}</p>\n          </div>\n          <div>\n            <p className=\"text-sm text-slate-500\">Phone</p>\n            <p className=\"text-slate-900 font-semibold\">{studentData?.profile.phone || \"-\"}</p>\n          </div>\n          <div>\n            <p className=\"text-sm text-slate-500\">Address</p>\n            <p className=\"text-slate-900 font-semibold\">{studentData?.profile.address || \"-\"}</p>\n          </div>\n          <div>\n            <p className=\"text-sm text-slate-500\">Parent Name</p>\n            <p className=\"text-slate-900 font-semibold\">{studentData?.profile.parentName || \"-\"}</p>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Academic section */}\n      <Card className=\"glass-sm border border-slate-200/80\">\n        <CardHeader className=\"flex flex-row items-center justify-between\">\n          <CardTitle className=\"text-slate-900\">Academic Details</CardTitle>\n          <Button size=\"sm\" onClick={() => setEditingSection(\"academic\")} className=\"bg-sky-600 hover:bg-sky-700\">\n            Edit\n          </Button>\n        </CardHeader>\n        <CardContent className=\"space-y-4\">\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            {studentData?.academics.subjects.slice(0, 6).map((subject) => (\n              <div key={subject.name} className=\"bg-slate-50 p-4 rounded-xl border border-slate-200\">\n                <p className=\"text-sm text-slate-600\">{subject.name}</p>\n                <p className=\"text-2xl font-bold text-sky-600\">{String(subject.score)}</p>\n              </div>\n            ))}\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Co-Curricular section */}\n      <Card className=\"glass-sm border border-slate-200/80\">\n        <CardHeader className=\"flex flex-row items-center justify-between\">\n          <CardTitle className=\"text-slate-900\">Co-Curricular Activities</CardTitle>\n          <Button size=\"sm\" onClick={() => setEditingSection(\"cocircular\")} className=\"bg-sky-600 hover:bg-sky-700\">\n            Edit\n          </Button>\n        </CardHeader>\n        <CardContent className=\"space-y-3\">\n          <div>\n            <p className=\"text-sm text-slate-600 mb-2\">\n              Categories: {studentData?.cocirculars.categories.length || 0}\n            </p>\n            <p className=\"text-sm text-slate-600\">\n              Entries: {studentData?.cocirculars.categories.reduce((sum, item) => sum + item.entries.length, 0) || 0}\n            </p>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Extra-Curricular section */}\n      <Card className=\"glass-sm border border-slate-200/80\">\n        <CardHeader className=\"flex flex-row items-center justify-between\">\n          <CardTitle className=\"text-slate-900\">Extra-Curricular Activities</CardTitle>\n          <Button\n            size=\"sm\"\n            onClick={() => setEditingSection(\"extracircular\")}\n            className=\"bg-sky-600 hover:bg-sky-700\"\n          >\n            Edit\n          </Button>\n        </CardHeader>\n        <CardContent className=\"space-y-3\">\n          <div>\n            <p className=\"text-sm text-slate-600 mb-2\">\n              Categories: {studentData?.ecirculars.categories.length || 0}\n            </p>\n            <p className=\"text-sm text-slate-600\">\n              Entries: {studentData?.ecirculars.categories.reduce((sum, item) => sum + item.entries.length, 0) || 0}\n            </p>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Online Platforms section */}\n      <Card className=\"glass-sm border border-slate-200/80\">\n        <CardHeader className=\"flex flex-row items-center justify-between\">\n          <CardTitle className=\"text-slate-900\">Online Platforms</CardTitle>\n          <Button size=\"sm\" onClick={() => setEditingSection(\"platforms\")} className=\"bg-sky-600 hover:bg-sky-700\">\n            Edit Usernames\n          </Button>\n        </CardHeader>\n        <CardContent>\n          <div className=\"space-y-3\">\n            {studentData?.profile.leetcode && studentData.profile.leetcode !== \"username_here\" ? (\n              <div className=\"bg-slate-50 border border-slate-200 rounded-lg p-3\">\n                <p className=\"text-sm font-semibold text-slate-700\">LeetCode</p>\n                <p className=\"text-xs text-slate-500\">@{studentData.profile.leetcode}</p>\n              </div>\n            ) : null}\n            {studentData?.profile.codeforces && studentData.profile.codeforces !== \"username_here\" ? (\n              <div className=\"bg-slate-50 border border-slate-200 rounded-lg p-3\">\n                <p className=\"text-sm font-semibold text-slate-700\">CodeForces</p>\n                <p className=\"text-xs text-slate-500\">@{studentData.profile.codeforces}</p>\n              </div>\n            ) : null}\n            {studentData?.profile.hackerrank && studentData.profile.hackerrank !== \"username_here\" ? (\n              <div className=\"bg-slate-50 border border-slate-200 rounded-lg p-3\">\n                <p className=\"text-sm font-semibold text-slate-700\">HackerRank</p>\n                <p className=\"text-xs text-slate-500\">@{studentData.profile.hackerrank}</p>\n              </div>\n            ) : null}\n            {studentData?.profile.codechef && studentData.profile.codechef !== \"username_here\" ? (\n              <div className=\"bg-slate-50 border border-slate-200 rounded-lg p-3\">\n                <p className=\"text-sm font-semibold text-slate-700\">CodeChef</p>\n                <p className=\"text-xs text-slate-500\">@{studentData.profile.codechef}</p>\n              </div>\n            ) : null}\n            {(!studentData?.profile.leetcode || studentData.profile.leetcode === \"username_here\") &&\n             (!studentData?.profile.codeforces || studentData.profile.codeforces === \"username_here\") &&\n             (!studentData?.profile.hackerrank || studentData.profile.hackerrank === \"username_here\") &&\n             (!studentData?.profile.codechef || studentData.profile.codechef === \"username_here\") ? (\n              <div className=\"text-sm text-slate-500\">\n                No platform usernames configured yet.\n              </div>\n            ) : null}\n          </div>\n        </CardContent>\n      </Card>\n\n      <OverallAnalysisSection studentId={studentId} />\n\n      {editingSection && editPayload && (\n        <StaffEditModal\n          section={editingSection}\n          studentData={editPayload}\n          studentId={studentId}\n          onClose={() => setEditingSection(null)}\n          onSaveSuccess={() => {\n            // Reload student data after successful save\n            window.location.reload();\n          }}\n        />\n      )}\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AAPA;;;;;;;;AAce,SAAS,oBAAoB,EAAE,SAAS,EAAE,MAAM,EAA4B;IACzF,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,iNAAQ,EAAgB;IACpE,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAqBpC;IACV,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC;IAC3C,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAgB;IAE1D,IAAA,kNAAS,EAAC;QACR,IAAI,YAAY;QAChB,MAAM,OAAO;YACX,aAAa;YACb,aAAa;YACb,IAAI;gBACF,MAAM,WAAW,MAAM,MAAM,CAAC,aAAa,EAAE,mBAAmB,YAAY,EAAE;oBAAE,aAAa;gBAAU;gBACvG,IAAI,CAAC,SAAS,EAAE,EAAE;oBAChB,MAAM,OAAO,MAAM,SAAS,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,CAAC,CAAC;oBAClD,MAAM,IAAI,MAAM,KAAK,KAAK,IAAI;gBAChC;gBACA,MAAM,OAAO,MAAM,SAAS,IAAI;gBAChC,IAAI,WAAW;oBACb,eAAe;gBACjB;YACF,EAAE,OAAO,KAAK;gBACZ,IAAI,WAAW;oBACb,aAAa,eAAe,QAAQ,IAAI,OAAO,GAAG;gBACpD;YACF,SAAU;gBACR,IAAI,WAAW;oBACb,aAAa;gBACf;YACF;QACF;QAEA;QACA,OAAO;YACL,YAAY;QACd;IACF,GAAG;QAAC;KAAU;IAEd,MAAM,cAAc,IAAA,gNAAO,EAAC;QAC1B,IAAI,CAAC,aAAa,OAAO;QAEzB,MAAM,iBAAkD,CAAC;QACzD,YAAY,SAAS,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;YACtC,cAAc,CAAC,QAAQ,IAAI,CAAC,GAAG,QAAQ,KAAK;QAC9C;QAEA,MAAM,gBAAgB,CAAC;YACrB,MAAM,SAAiC,CAAC;YACxC,WAAW,OAAO,CAAC,CAAC;gBAClB,MAAM,CAAC,KAAK,QAAQ,CAAC,GAAG,KAAK,OAAO,CAAC,IAAI,CAAC;YAC5C;YACA,OAAO;QACT;QAEA,OAAO;YACL,SAAS,YAAY,OAAO;YAC5B,UAAU;YACV,YAAY,cAAc,YAAY,WAAW,CAAC,UAAU;YAC5D,eAAe,cAAc,YAAY,UAAU,CAAC,UAAU;YAC9D,WAAW;gBACT,UAAU,YAAY,OAAO,CAAC,QAAQ,IAAI;gBAC1C,YAAY,YAAY,OAAO,CAAC,UAAU,IAAI;gBAC9C,YAAY,YAAY,OAAO,CAAC,UAAU,IAAI;gBAC9C,UAAU,YAAY,OAAO,CAAC,QAAQ,IAAI;YAC5C;QACF;IACF,GAAG;QAAC;KAAY;IAEhB,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;oBACZ,wBACC,8OAAC,qIAAM;wBAAC,SAAQ;wBAAU,SAAS;wBAAQ,WAAU;;0CACnD,8OAAC,6NAAS;gCAAC,MAAM;;;;;;4BAAM;;;;;;;kCAI3B,8OAAC;;0CACC,8OAAC;gCAAG,WAAU;0CACX,aAAa,QAAQ,YAAY;;;;;;0CAEpC,8OAAC;gCAAE,WAAU;0CAAkB,aAAa,QAAQ,SAAS;;;;;;;;;;;;;;;;;;YAIhE,0BACC,8OAAC;gBAAI,WAAU;0BAAyB;;;;;uBACtC,0BACF,8OAAC;gBAAI,WAAU;0BAAyB;;;;;uBACtC;0BAGJ,8OAAC,iIAAI;gBAAC,WAAU;;kCACd,8OAAC,uIAAU;wBAAC,WAAU;;0CACpB,8OAAC,sIAAS;gCAAC,WAAU;0CAAiB;;;;;;0CACtC,8OAAC,qIAAM;gCAAC,MAAK;gCAAK,SAAS,IAAM,kBAAkB;gCAAY,WAAU;0CAA8B;;;;;;;;;;;;kCAIzG,8OAAC,wIAAW;wBAAC,WAAU;;0CACrB,8OAAC;;kDACC,8OAAC;wCAAE,WAAU;kDAAyB;;;;;;kDACtC,8OAAC;wCAAE,WAAU;kDAAgC,aAAa,QAAQ,OAAO;;;;;;;;;;;;0CAE3E,8OAAC;;kDACC,8OAAC;wCAAE,WAAU;kDAAyB;;;;;;kDACtC,8OAAC;wCAAE,WAAU;kDAAgC,aAAa,QAAQ,SAAS;;;;;;;;;;;;0CAE7E,8OAAC;;kDACC,8OAAC;wCAAE,WAAU;kDAAyB;;;;;;kDACtC,8OAAC;wCAAE,WAAU;kDAAgC,aAAa,QAAQ,WAAW;;;;;;;;;;;;0CAE/E,8OAAC;;kDACC,8OAAC;wCAAE,WAAU;kDAAyB;;;;;;kDACtC,8OAAC;wCAAE,WAAU;kDAAgC,aAAa,QAAQ,cAAc;;;;;;;;;;;;;;;;;;;;;;;;0BAMtF,8OAAC,iIAAI;gBAAC,WAAU;;kCACd,8OAAC,uIAAU;wBAAC,WAAU;;0CACpB,8OAAC,sIAAS;gCAAC,WAAU;0CAAiB;;;;;;0CACtC,8OAAC,qIAAM;gCAAC,MAAK;gCAAK,SAAS,IAAM,kBAAkB;gCAAa,WAAU;0CAA8B;;;;;;;;;;;;kCAI1G,8OAAC,wIAAW;wBAAC,WAAU;kCACrB,cAAA,8OAAC;4BAAI,WAAU;sCACZ,aAAa,UAAU,SAAS,MAAM,GAAG,GAAG,IAAI,CAAC,wBAChD,8OAAC;oCAAuB,WAAU;;sDAChC,8OAAC;4CAAE,WAAU;sDAA0B,QAAQ,IAAI;;;;;;sDACnD,8OAAC;4CAAE,WAAU;sDAAmC,OAAO,QAAQ,KAAK;;;;;;;mCAF5D,QAAQ,IAAI;;;;;;;;;;;;;;;;;;;;;0BAU9B,8OAAC,iIAAI;gBAAC,WAAU;;kCACd,8OAAC,uIAAU;wBAAC,WAAU;;0CACpB,8OAAC,sIAAS;gCAAC,WAAU;0CAAiB;;;;;;0CACtC,8OAAC,qIAAM;gCAAC,MAAK;gCAAK,SAAS,IAAM,kBAAkB;gCAAe,WAAU;0CAA8B;;;;;;;;;;;;kCAI5G,8OAAC,wIAAW;wBAAC,WAAU;kCACrB,cAAA,8OAAC;;8CACC,8OAAC;oCAAE,WAAU;;wCAA8B;wCAC5B,aAAa,YAAY,WAAW,UAAU;;;;;;;8CAE7D,8OAAC;oCAAE,WAAU;;wCAAyB;wCAC1B,aAAa,YAAY,WAAW,OAAO,CAAC,KAAK,OAAS,MAAM,KAAK,OAAO,CAAC,MAAM,EAAE,MAAM;;;;;;;;;;;;;;;;;;;;;;;;0BAO7G,8OAAC,iIAAI;gBAAC,WAAU;;kCACd,8OAAC,uIAAU;wBAAC,WAAU;;0CACpB,8OAAC,sIAAS;gCAAC,WAAU;0CAAiB;;;;;;0CACtC,8OAAC,qIAAM;gCACL,MAAK;gCACL,SAAS,IAAM,kBAAkB;gCACjC,WAAU;0CACX;;;;;;;;;;;;kCAIH,8OAAC,wIAAW;wBAAC,WAAU;kCACrB,cAAA,8OAAC;;8CACC,8OAAC;oCAAE,WAAU;;wCAA8B;wCAC5B,aAAa,WAAW,WAAW,UAAU;;;;;;;8CAE5D,8OAAC;oCAAE,WAAU;;wCAAyB;wCAC1B,aAAa,WAAW,WAAW,OAAO,CAAC,KAAK,OAAS,MAAM,KAAK,OAAO,CAAC,MAAM,EAAE,MAAM;;;;;;;;;;;;;;;;;;;;;;;;0BAO5G,8OAAC,iIAAI;gBAAC,WAAU;;kCACd,8OAAC,uIAAU;wBAAC,WAAU;;0CACpB,8OAAC,sIAAS;gCAAC,WAAU;0CAAiB;;;;;;0CACtC,8OAAC,qIAAM;gCAAC,MAAK;gCAAK,SAAS,IAAM,kBAAkB;gCAAc,WAAU;0CAA8B;;;;;;;;;;;;kCAI3G,8OAAC,wIAAW;kCACV,cAAA,8OAAC;4BAAI,WAAU;;gCACZ,aAAa,QAAQ,YAAY,YAAY,OAAO,CAAC,QAAQ,KAAK,gCACjE,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAE,WAAU;sDAAuC;;;;;;sDACpD,8OAAC;4CAAE,WAAU;;gDAAyB;gDAAE,YAAY,OAAO,CAAC,QAAQ;;;;;;;;;;;;2CAEpE;gCACH,aAAa,QAAQ,cAAc,YAAY,OAAO,CAAC,UAAU,KAAK,gCACrE,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAE,WAAU;sDAAuC;;;;;;sDACpD,8OAAC;4CAAE,WAAU;;gDAAyB;gDAAE,YAAY,OAAO,CAAC,UAAU;;;;;;;;;;;;2CAEtE;gCACH,aAAa,QAAQ,cAAc,YAAY,OAAO,CAAC,UAAU,KAAK,gCACrE,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAE,WAAU;sDAAuC;;;;;;sDACpD,8OAAC;4CAAE,WAAU;;gDAAyB;gDAAE,YAAY,OAAO,CAAC,UAAU;;;;;;;;;;;;2CAEtE;gCACH,aAAa,QAAQ,YAAY,YAAY,OAAO,CAAC,QAAQ,KAAK,gCACjE,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAE,WAAU;sDAAuC;;;;;;sDACpD,8OAAC;4CAAE,WAAU;;gDAAyB;gDAAE,YAAY,OAAO,CAAC,QAAQ;;;;;;;;;;;;2CAEpE;gCACH,CAAC,CAAC,aAAa,QAAQ,YAAY,YAAY,OAAO,CAAC,QAAQ,KAAK,eAAe,KACnF,CAAC,CAAC,aAAa,QAAQ,cAAc,YAAY,OAAO,CAAC,UAAU,KAAK,eAAe,KACvF,CAAC,CAAC,aAAa,QAAQ,cAAc,YAAY,OAAO,CAAC,UAAU,KAAK,eAAe,KACvF,CAAC,CAAC,aAAa,QAAQ,YAAY,YAAY,OAAO,CAAC,QAAQ,KAAK,eAAe,kBAClF,8OAAC;oCAAI,WAAU;8CAAyB;;;;;2CAGtC;;;;;;;;;;;;;;;;;;0BAKV,8OAAC,oKAAsB;gBAAC,WAAW;;;;;;YAElC,kBAAkB,6BACjB,8OAAC,gJAAc;gBACb,SAAS;gBACT,aAAa;gBACb,WAAW;gBACX,SAAS,IAAM,kBAAkB;gBACjC,eAAe;oBACb,4CAA4C;oBAC5C,OAAO,QAAQ,CAAC,MAAM;gBACxB;;;;;;;;;;;;AAKV","debugId":null}},
    {"offset": {"line": 4302, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Tejab/Desktop/final_year_project/TRACKSHEET/UI/components/staff-dashboard.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { AnimatePresence, motion } from \"framer-motion\";\nimport { Button } from \"@/components/ui/button\";\nimport TopBar from \"./ui/TopBar\";\nimport StaffStudentSelector from \"./staff-student-selector\";\nimport StaffStudentDetails from \"./staff-student-details\";\n\ninterface StaffDashboardProps {\n  staffId: string;\n  onLogout: () => void;\n  userName?: string;\n  userEmail?: string;\n}\n\nexport default function StaffDashboard({\n  staffId,\n  onLogout,\n  userName = \"Staff Member\",\n  userEmail = \"staff@tracksheet.edu\",\n}: StaffDashboardProps) {\n  const [selectedStudent, setSelectedStudent] = useState<string | null>(null);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n\n  const handleSearch = (query: string) => {\n    setSearchQuery(query);\n  };\n\n\n\n  return (\n    <div className=\"h-screen flex flex-col bg-gradient-to-br from-slate-50 via-sky-50 to-white\">\n      {/* TopBar with integrated navigation */}\n      <TopBar\n        userName={userName}\n        userEmail={userEmail}\n        onSearch={handleSearch}\n        onLogout={onLogout}\n      />\n\n\n\n      {/* Content area with animated views */}\n      <div className=\"flex-1 overflow-auto\">\n        <AnimatePresence mode=\"wait\">\n          {selectedStudent === null ? (\n            <motion.div\n              key=\"selector\"\n              initial={{ opacity: 0, y: 12 }}\n              animate={{ opacity: 1, y: 0 }}\n              exit={{ opacity: 0, y: -8 }}\n              transition={{\n                duration: 0.28,\n                ease: [0.19, 0.79, 0.29, 1],\n              }}\n              className=\"p-8 will-change-transform\"\n              style={{ backfaceVisibility: \"hidden\" }}\n            >\n              <StaffStudentSelector \n                onSelectStudent={setSelectedStudent}\n                searchQuery={searchQuery}\n              />\n            </motion.div>\n          ) : (\n            <motion.div\n              key=\"details\"\n              initial={{ opacity: 0, y: 12, scale: 0.98 }}\n              animate={{ opacity: 1, y: 0, scale: 1 }}\n              exit={{ opacity: 0, y: -8, scale: 0.98 }}\n              transition={{\n                duration: 0.3,\n                ease: [0.16, 0.84, 0.44, 1],\n              }}\n              className=\"p-8 will-change-transform\"\n              style={{ backfaceVisibility: \"hidden\" }}\n            >\n              <Button\n                onClick={() => setSelectedStudent(null)}\n                className=\"mb-4 rounded-full bg-sky-500 text-white hover:bg-sky-600\"\n              >\n                â† Back to Search\n              </Button>\n              <StaffStudentDetails studentId={selectedStudent} />\n            </motion.div>\n          )}\n        </AnimatePresence>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AAPA;;;;;;;;AAgBe,SAAS,eAAe,EACrC,OAAO,EACP,QAAQ,EACR,WAAW,cAAc,EACzB,YAAY,sBAAsB,EACd;IACpB,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,iNAAQ,EAAgB;IACtE,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC;IAE/C,MAAM,eAAe,CAAC;QACpB,eAAe;IACjB;IAIA,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC,sIAAM;gBACL,UAAU;gBACV,WAAW;gBACX,UAAU;gBACV,UAAU;;;;;;0BAMZ,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC,4MAAe;oBAAC,MAAK;8BACnB,oBAAoB,qBACnB,8OAAC,oMAAM,CAAC,GAAG;wBAET,SAAS;4BAAE,SAAS;4BAAG,GAAG;wBAAG;wBAC7B,SAAS;4BAAE,SAAS;4BAAG,GAAG;wBAAE;wBAC5B,MAAM;4BAAE,SAAS;4BAAG,GAAG,CAAC;wBAAE;wBAC1B,YAAY;4BACV,UAAU;4BACV,MAAM;gCAAC;gCAAM;gCAAM;gCAAM;6BAAE;wBAC7B;wBACA,WAAU;wBACV,OAAO;4BAAE,oBAAoB;wBAAS;kCAEtC,cAAA,8OAAC,sJAAoB;4BACnB,iBAAiB;4BACjB,aAAa;;;;;;uBAbX;;;;6CAiBN,8OAAC,oMAAM,CAAC,GAAG;wBAET,SAAS;4BAAE,SAAS;4BAAG,GAAG;4BAAI,OAAO;wBAAK;wBAC1C,SAAS;4BAAE,SAAS;4BAAG,GAAG;4BAAG,OAAO;wBAAE;wBACtC,MAAM;4BAAE,SAAS;4BAAG,GAAG,CAAC;4BAAG,OAAO;wBAAK;wBACvC,YAAY;4BACV,UAAU;4BACV,MAAM;gCAAC;gCAAM;gCAAM;gCAAM;6BAAE;wBAC7B;wBACA,WAAU;wBACV,OAAO;4BAAE,oBAAoB;wBAAS;;0CAEtC,8OAAC,qIAAM;gCACL,SAAS,IAAM,mBAAmB;gCAClC,WAAU;0CACX;;;;;;0CAGD,8OAAC,qJAAmB;gCAAC,WAAW;;;;;;;uBAjB5B;;;;;;;;;;;;;;;;;;;;;AAwBlB","debugId":null}},
    {"offset": {"line": 4456, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Tejab/Desktop/final_year_project/TRACKSHEET/UI/app/staff/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport StaffDashboard from \"@/components/staff-dashboard\";\r\n\r\nexport default function StaffPage() {\r\n  const router = useRouter();\r\n  const [user, setUser] = useState<{\r\n    staffId: string;\r\n    email: string;\r\n  } | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    // Verify authentication and role\r\n    fetch(\"/api/me\", { credentials: \"include\" })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        if (!data.userId || data.role !== \"staff\") {\r\n          // Not authenticated or wrong role\r\n          router.replace(\"/login\");\r\n          return;\r\n        }\r\n        setUser({\r\n          staffId: data.staffId || \"\",\r\n          email: data.email || \"\",\r\n        });\r\n        setLoading(false);\r\n      })\r\n      .catch(() => {\r\n        router.replace(\"/login\");\r\n      });\r\n  }, [router]);\r\n\r\n  const handleLogout = async () => {\r\n    await fetch(\"/api/auth/logout\", { method: \"POST\", credentials: \"include\" });\r\n    router.push(\"/login\");\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-50 to-slate-100\">\r\n        <div className=\"text-slate-600\">Loading...</div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!user) return null;\r\n\r\n  return (\r\n    <StaffDashboard\r\n      staffId={user.staffId}\r\n      userEmail={user.email}\r\n      onLogout={handleLogout}\r\n    />\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAMe,SAAS;IACtB,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAGtB;IACV,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,IAAA,kNAAS,EAAC;QACR,iCAAiC;QACjC,MAAM,WAAW;YAAE,aAAa;QAAU,GACvC,IAAI,CAAC,CAAC,MAAQ,IAAI,IAAI,IACtB,IAAI,CAAC,CAAC;YACL,IAAI,CAAC,KAAK,MAAM,IAAI,KAAK,IAAI,KAAK,SAAS;gBACzC,kCAAkC;gBAClC,OAAO,OAAO,CAAC;gBACf;YACF;YACA,QAAQ;gBACN,SAAS,KAAK,OAAO,IAAI;gBACzB,OAAO,KAAK,KAAK,IAAI;YACvB;YACA,WAAW;QACb,GACC,KAAK,CAAC;YACL,OAAO,OAAO,CAAC;QACjB;IACJ,GAAG;QAAC;KAAO;IAEX,MAAM,eAAe;QACnB,MAAM,MAAM,oBAAoB;YAAE,QAAQ;YAAQ,aAAa;QAAU;QACzE,OAAO,IAAI,CAAC;IACd;IAEA,IAAI,SAAS;QACX,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;0BAAiB;;;;;;;;;;;IAGtC;IAEA,IAAI,CAAC,MAAM,OAAO;IAElB,qBACE,8OAAC,4IAAc;QACb,SAAS,KAAK,OAAO;QACrB,WAAW,KAAK,KAAK;QACrB,UAAU;;;;;;AAGhB","debugId":null}}]
}